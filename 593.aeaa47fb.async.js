"use strict";(self.webpackChunkmo_tools_fe=self.webpackChunkmo_tools_fe||[]).push([[593],{86128:function(st,Ie,h){h.d(Ie,{Z:function(){return L}});var Ne=h(87462),ce=h(91),le=h(1413),Ke=h(15671),Ee=h(43144),U=h(97326),o=h(32531),Me=h(29388),S=h(4942),K=h(93967),X=h.n(K),oe=h(64217),H=h(67294),ve=h(27822),De=function(x){for(var J=x.prefixCls,r=x.level,te=x.isStart,W=x.isEnd,re="".concat(J,"-indent-unit"),l=[],f=0;f<r;f+=1)l.push(H.createElement("span",{key:f,className:X()(re,(0,S.Z)((0,S.Z)({},"".concat(re,"-start"),te[f]),"".concat(re,"-end"),W[f]))}));return H.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},l)},A=H.memo(De),ke=h(35381),ue=h(1089),ge=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ne="open",s="close",y="---",O=function(B){(0,o.Z)(J,B);var x=(0,Me.Z)(J);function J(){var r;(0,Ke.Z)(this,J);for(var te=arguments.length,W=new Array(te),re=0;re<te;re++)W[re]=arguments[re];return r=x.call.apply(x,[this].concat(W)),(0,S.Z)((0,U.Z)(r),"state",{dragNodeHighlight:!1}),(0,S.Z)((0,U.Z)(r),"selectHandle",void 0),(0,S.Z)((0,U.Z)(r),"cacheIndent",void 0),(0,S.Z)((0,U.Z)(r),"onSelectorClick",function(l){var f=r.props.context.onNodeClick;f(l,(0,ue.F)(r.props)),r.isSelectable()?r.onSelect(l):r.onCheck(l)}),(0,S.Z)((0,U.Z)(r),"onSelectorDoubleClick",function(l){var f=r.props.context.onNodeDoubleClick;f(l,(0,ue.F)(r.props))}),(0,S.Z)((0,U.Z)(r),"onSelect",function(l){if(!r.isDisabled()){var f=r.props.context.onNodeSelect;f(l,(0,ue.F)(r.props))}}),(0,S.Z)((0,U.Z)(r),"onCheck",function(l){if(!r.isDisabled()){var f=r.props,R=f.disableCheckbox,w=f.checked,z=r.props.context.onNodeCheck;if(!(!r.isCheckable()||R)){var he=!w;z(l,(0,ue.F)(r.props),he)}}}),(0,S.Z)((0,U.Z)(r),"onMouseEnter",function(l){var f=r.props.context.onNodeMouseEnter;f(l,(0,ue.F)(r.props))}),(0,S.Z)((0,U.Z)(r),"onMouseLeave",function(l){var f=r.props.context.onNodeMouseLeave;f(l,(0,ue.F)(r.props))}),(0,S.Z)((0,U.Z)(r),"onContextMenu",function(l){var f=r.props.context.onNodeContextMenu;f(l,(0,ue.F)(r.props))}),(0,S.Z)((0,U.Z)(r),"onDragStart",function(l){var f=r.props.context.onNodeDragStart;l.stopPropagation(),r.setState({dragNodeHighlight:!0}),f(l,(0,U.Z)(r));try{l.dataTransfer.setData("text/plain","")}catch(R){}}),(0,S.Z)((0,U.Z)(r),"onDragEnter",function(l){var f=r.props.context.onNodeDragEnter;l.preventDefault(),l.stopPropagation(),f(l,(0,U.Z)(r))}),(0,S.Z)((0,U.Z)(r),"onDragOver",function(l){var f=r.props.context.onNodeDragOver;l.preventDefault(),l.stopPropagation(),f(l,(0,U.Z)(r))}),(0,S.Z)((0,U.Z)(r),"onDragLeave",function(l){var f=r.props.context.onNodeDragLeave;l.stopPropagation(),f(l,(0,U.Z)(r))}),(0,S.Z)((0,U.Z)(r),"onDragEnd",function(l){var f=r.props.context.onNodeDragEnd;l.stopPropagation(),r.setState({dragNodeHighlight:!1}),f(l,(0,U.Z)(r))}),(0,S.Z)((0,U.Z)(r),"onDrop",function(l){var f=r.props.context.onNodeDrop;l.preventDefault(),l.stopPropagation(),r.setState({dragNodeHighlight:!1}),f(l,(0,U.Z)(r))}),(0,S.Z)((0,U.Z)(r),"onExpand",function(l){var f=r.props,R=f.loading,w=f.context.onNodeExpand;R||w(l,(0,ue.F)(r.props))}),(0,S.Z)((0,U.Z)(r),"setSelectHandle",function(l){r.selectHandle=l}),(0,S.Z)((0,U.Z)(r),"getNodeState",function(){var l=r.props.expanded;return r.isLeaf()?null:l?ne:s}),(0,S.Z)((0,U.Z)(r),"hasChildren",function(){var l=r.props.eventKey,f=r.props.context.keyEntities,R=(0,ke.Z)(f,l)||{},w=R.children;return!!(w||[]).length}),(0,S.Z)((0,U.Z)(r),"isLeaf",function(){var l=r.props,f=l.isLeaf,R=l.loaded,w=r.props.context.loadData,z=r.hasChildren();return f===!1?!1:f||!w&&!z||w&&R&&!z}),(0,S.Z)((0,U.Z)(r),"isDisabled",function(){var l=r.props.disabled,f=r.props.context.disabled;return!!(f||l)}),(0,S.Z)((0,U.Z)(r),"isCheckable",function(){var l=r.props.checkable,f=r.props.context.checkable;return!f||l===!1?!1:f}),(0,S.Z)((0,U.Z)(r),"syncLoadData",function(l){var f=l.expanded,R=l.loading,w=l.loaded,z=r.props.context,he=z.loadData,Se=z.onNodeLoad;R||he&&f&&!r.isLeaf()&&!w&&Se((0,ue.F)(r.props))}),(0,S.Z)((0,U.Z)(r),"isDraggable",function(){var l=r.props,f=l.data,R=l.context.draggable;return!!(R&&(!R.nodeDraggable||R.nodeDraggable(f)))}),(0,S.Z)((0,U.Z)(r),"renderDragHandler",function(){var l=r.props.context,f=l.draggable,R=l.prefixCls;return f!=null&&f.icon?H.createElement("span",{className:"".concat(R,"-draggable-icon")},f.icon):null}),(0,S.Z)((0,U.Z)(r),"renderSwitcherIconDom",function(l){var f=r.props.switcherIcon,R=r.props.context.switcherIcon,w=f||R;return typeof w=="function"?w((0,le.Z)((0,le.Z)({},r.props),{},{isLeaf:l})):w}),(0,S.Z)((0,U.Z)(r),"renderSwitcher",function(){var l=r.props.expanded,f=r.props.context.prefixCls;if(r.isLeaf()){var R=r.renderSwitcherIconDom(!0);return R!==!1?H.createElement("span",{className:X()("".concat(f,"-switcher"),"".concat(f,"-switcher-noop"))},R):null}var w=X()("".concat(f,"-switcher"),"".concat(f,"-switcher_").concat(l?ne:s)),z=r.renderSwitcherIconDom(!1);return z!==!1?H.createElement("span",{onClick:r.onExpand,className:w},z):null}),(0,S.Z)((0,U.Z)(r),"renderCheckbox",function(){var l=r.props,f=l.checked,R=l.halfChecked,w=l.disableCheckbox,z=r.props.context.prefixCls,he=r.isDisabled(),Se=r.isCheckable();if(!Se)return null;var V=typeof Se!="boolean"?Se:null;return H.createElement("span",{className:X()("".concat(z,"-checkbox"),f&&"".concat(z,"-checkbox-checked"),!f&&R&&"".concat(z,"-checkbox-indeterminate"),(he||w)&&"".concat(z,"-checkbox-disabled")),onClick:r.onCheck},V)}),(0,S.Z)((0,U.Z)(r),"renderIcon",function(){var l=r.props.loading,f=r.props.context.prefixCls;return H.createElement("span",{className:X()("".concat(f,"-iconEle"),"".concat(f,"-icon__").concat(r.getNodeState()||"docu"),l&&"".concat(f,"-icon_loading"))})}),(0,S.Z)((0,U.Z)(r),"renderSelector",function(){var l=r.state.dragNodeHighlight,f=r.props,R=f.title,w=R===void 0?y:R,z=f.selected,he=f.icon,Se=f.loading,V=f.data,Ce=r.props.context,ye=Ce.prefixCls,Fe=Ce.showIcon,We=Ce.icon,Ge=Ce.loadData,_=Ce.titleRender,Te=r.isDisabled(),$e="".concat(ye,"-node-content-wrapper"),v;if(Fe){var P=he||We;v=P?H.createElement("span",{className:X()("".concat(ye,"-iconEle"),"".concat(ye,"-icon__customize"))},typeof P=="function"?P(r.props):P):r.renderIcon()}else Ge&&Se&&(v=r.renderIcon());var N;typeof w=="function"?N=w(V):_?N=_(V):N=w;var b=H.createElement("span",{className:"".concat(ye,"-title")},N);return H.createElement("span",{ref:r.setSelectHandle,title:typeof w=="string"?w:"",className:X()("".concat($e),"".concat($e,"-").concat(r.getNodeState()||"normal"),!Te&&(z||l)&&"".concat(ye,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},v,b,r.renderDropIndicator())}),(0,S.Z)((0,U.Z)(r),"renderDropIndicator",function(){var l=r.props,f=l.disabled,R=l.eventKey,w=r.props.context,z=w.draggable,he=w.dropLevelOffset,Se=w.dropPosition,V=w.prefixCls,Ce=w.indent,ye=w.dropIndicatorRender,Fe=w.dragOverNodeKey,We=w.direction,Ge=!!z,_=!f&&Ge&&Fe===R,Te=Ce!=null?Ce:r.cacheIndent;return r.cacheIndent=Ce,_?ye({dropPosition:Se,dropLevelOffset:he,indent:Te,prefixCls:V,direction:We}):null}),r}return(0,Ee.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var te=this.props.selectable,W=this.props.context.selectable;return typeof te=="boolean"?te:W}},{key:"render",value:function(){var te,W=this.props,re=W.eventKey,l=W.className,f=W.style,R=W.dragOver,w=W.dragOverGapTop,z=W.dragOverGapBottom,he=W.isLeaf,Se=W.isStart,V=W.isEnd,Ce=W.expanded,ye=W.selected,Fe=W.checked,We=W.halfChecked,Ge=W.loading,_=W.domRef,Te=W.active,$e=W.data,v=W.onMouseMove,P=W.selectable,N=(0,ce.Z)(W,ge),b=this.props.context,i=b.prefixCls,p=b.filterTreeNode,m=b.keyEntities,e=b.dropContainerKey,u=b.dropTargetKey,M=b.draggingNodeKey,C=this.isDisabled(),t=(0,oe.Z)(N,{aria:!0,data:!0}),a=(0,ke.Z)(m,re)||{},n=a.level,d=V[V.length-1],c=this.isDraggable(),g=!C&&c,Z=M===re,D=P!==void 0?{"aria-selected":!!P}:void 0;return H.createElement("div",(0,Ne.Z)({ref:_,className:X()(l,"".concat(i,"-treenode"),(te={},(0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)(te,"".concat(i,"-treenode-disabled"),C),"".concat(i,"-treenode-switcher-").concat(Ce?"open":"close"),!he),"".concat(i,"-treenode-checkbox-checked"),Fe),"".concat(i,"-treenode-checkbox-indeterminate"),We),"".concat(i,"-treenode-selected"),ye),"".concat(i,"-treenode-loading"),Ge),"".concat(i,"-treenode-active"),Te),"".concat(i,"-treenode-leaf-last"),d),"".concat(i,"-treenode-draggable"),c),"dragging",Z),(0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)(te,"drop-target",u===re),"drop-container",e===re),"drag-over",!C&&R),"drag-over-gap-top",!C&&w),"drag-over-gap-bottom",!C&&z),"filter-node",p&&p((0,ue.F)(this.props))))),style:f,draggable:g,"aria-grabbed":Z,onDragStart:g?this.onDragStart:void 0,onDragEnter:c?this.onDragEnter:void 0,onDragOver:c?this.onDragOver:void 0,onDragLeave:c?this.onDragLeave:void 0,onDrop:c?this.onDrop:void 0,onDragEnd:c?this.onDragEnd:void 0,onMouseMove:v},D,t),H.createElement(A,{prefixCls:i,level:n,isStart:Se,isEnd:V}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(H.Component),I=function(x){return H.createElement(ve.k.Consumer,null,function(J){return H.createElement(O,(0,Ne.Z)({},x,{context:J}))})};I.displayName="TreeNode",I.isTreeNode=1;var L=I},27822:function(st,Ie,h){h.d(Ie,{k:function(){return ce}});var Ne=h(67294),ce=Ne.createContext(null)},70593:function(st,Ie,h){h.d(Ie,{O:function(){return L.Z},Z:function(){return b}});var Ne=h(87462),ce=h(71002),le=h(1413),Ke=h(74902),Ee=h(15671),U=h(43144),o=h(97326),Me=h(32531),S=h(29388),K=h(4942),X=h(93967),oe=h.n(X),H=h(15105),ve=h(64217),De=h(80334),A=h(67294),ke=h(27822);function ue(i){var p=i.dropPosition,m=i.dropLevelOffset,e=i.indent,u={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(p){case-1:u.top=0,u.left=-m*e;break;case 1:u.bottom=0,u.left=-m*e;break;case 0:u.bottom=0,u.left=e;break}return A.createElement("div",{style:u})}function ge(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var ne=h(97685),s=h(91),y=h(8410),O=h(85344),I=h(82225),L=h(86128);function B(i,p){var m=A.useState(!1),e=(0,ne.Z)(m,2),u=e[0],M=e[1];(0,y.Z)(function(){if(u)return i(),function(){p()}},[u]),(0,y.Z)(function(){return M(!0),function(){M(!1)}},[])}var x=h(1089),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],r=function(p,m){var e=p.className,u=p.style,M=p.motion,C=p.motionNodes,t=p.motionType,a=p.onMotionStart,n=p.onMotionEnd,d=p.active,c=p.treeNodeRequiredProps,g=(0,s.Z)(p,J),Z=A.useState(!0),D=(0,ne.Z)(Z,2),$=D[0],E=D[1],k=A.useContext(ke.k),Q=k.prefixCls,T=C&&t!=="hide";(0,y.Z)(function(){C&&T!==$&&E(T)},[C]);var F=function(){C&&a()},Y=A.useRef(!1),q=function(){C&&!Y.current&&(Y.current=!0,n())};B(F,q);var pe=function(ie){T===ie&&q()};return C?A.createElement(I.ZP,(0,Ne.Z)({ref:m,visible:$},M,{motionAppear:t==="show",onVisibleChanged:pe}),function(ae,ie){var de=ae.className,Ze=ae.style;return A.createElement("div",{ref:ie,className:oe()("".concat(Q,"-treenode-motion"),de),style:Ze},C.map(function(ee){var Oe=Object.assign({},(ge(ee.data),ee.data)),Pe=ee.title,xe=ee.key,Be=ee.isStart,se=ee.isEnd;delete Oe.children;var Ae=(0,x.H8)(xe,c);return A.createElement(L.Z,(0,Ne.Z)({},Oe,Ae,{title:Pe,active:d,data:ee.data,key:xe,isStart:Be,isEnd:se}))}))}):A.createElement(L.Z,(0,Ne.Z)({domRef:m,className:e,style:u},g,{active:d}))};r.displayName="MotionTreeNode";var te=A.forwardRef(r),W=te;function re(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=i.length,e=p.length;if(Math.abs(m-e)!==1)return{add:!1,key:null};function u(M,C){var t=new Map;M.forEach(function(n){t.set(n,!0)});var a=C.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return m<e?{add:!0,key:u(i,p)}:{add:!1,key:u(p,i)}}function l(i,p,m){var e=i.findIndex(function(t){return t.key===m}),u=i[e+1],M=p.findIndex(function(t){return t.key===m});if(u){var C=p.findIndex(function(t){return t.key===u.key});return p.slice(M+1,C)}return p.slice(M+1)}var f=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],R={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},w=function(){},z="RC_TREE_MOTION_".concat(Math.random()),he={key:z},Se={key:z,level:0,index:0,pos:"0",node:he,nodes:[he]},V={parent:null,children:[],pos:Se.pos,data:he,title:null,key:z,isStart:[],isEnd:[]};function Ce(i,p,m,e){return p===!1||!m?i:i.slice(0,Math.ceil(m/e)+1)}function ye(i){var p=i.key,m=i.pos;return(0,x.km)(p,m)}function Fe(i){for(var p=String(i.data.key),m=i;m.parent;)m=m.parent,p="".concat(m.data.key," > ").concat(p);return p}var We=A.forwardRef(function(i,p){var m=i.prefixCls,e=i.data,u=i.selectable,M=i.checkable,C=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,n=i.loadedKeys,d=i.loadingKeys,c=i.halfCheckedKeys,g=i.keyEntities,Z=i.disabled,D=i.dragging,$=i.dragOverNodeKey,E=i.dropPosition,k=i.motion,Q=i.height,T=i.itemHeight,F=i.virtual,Y=i.focusable,q=i.activeItem,pe=i.focused,ae=i.tabIndex,ie=i.onKeyDown,de=i.onFocus,Ze=i.onBlur,ee=i.onActiveChange,Oe=i.onListChangeStart,Pe=i.onListChangeEnd,xe=(0,s.Z)(i,f),Be=A.useRef(null),se=A.useRef(null);A.useImperativeHandle(p,function(){return{scrollTo:function(ze){Be.current.scrollTo(ze)},getIndentWidth:function(){return se.current.offsetWidth}}});var Ae=A.useState(C),_e=(0,ne.Z)(Ae,2),tt=_e[0],nt=_e[1],Ue=A.useState(e),Ye=(0,ne.Z)(Ue,2),Le=Ye[0],He=Ye[1],Re=A.useState(e),be=(0,ne.Z)(Re,2),Ve=be[0],Je=be[1],Qe=A.useState([]),rt=(0,ne.Z)(Qe,2),yt=rt[0],lt=rt[1],mt=A.useState(null),qe=(0,ne.Z)(mt,2),dt=qe[0],ct=qe[1],ft=A.useRef(e);ft.current=e;function vt(){var me=ft.current;He(me),Je(me),lt([]),ct(null),Pe()}(0,y.Z)(function(){nt(C);var me=re(tt,C);if(me.key!==null)if(me.add){var ze=Le.findIndex(function(pt){var gt=pt.key;return gt===me.key}),Xe=Ce(l(Le,e,me.key),F,Q,T),ot=Le.slice();ot.splice(ze+1,0,V),Je(ot),lt(Xe),ct("show")}else{var it=e.findIndex(function(pt){var gt=pt.key;return gt===me.key}),et=Ce(l(e,Le,me.key),F,Q,T),je=e.slice();je.splice(it+1,0,V),Je(je),lt(et),ct("hide")}else Le!==e&&(He(e),Je(e))},[C,e]),A.useEffect(function(){D||vt()},[D]);var at=k?Ve:e,ht={expandedKeys:C,selectedKeys:t,loadedKeys:n,loadingKeys:d,checkedKeys:a,halfCheckedKeys:c,dragOverNodeKey:$,dropPosition:E,keyEntities:g};return A.createElement(A.Fragment,null,pe&&q&&A.createElement("span",{style:R,"aria-live":"assertive"},Fe(q)),A.createElement("div",null,A.createElement("input",{style:R,disabled:Y===!1||Z,tabIndex:Y!==!1?ae:null,onKeyDown:ie,onFocus:de,onBlur:Ze,value:"",onChange:w,"aria-label":"for screen reader"})),A.createElement("div",{className:"".concat(m,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},A.createElement("div",{className:"".concat(m,"-indent")},A.createElement("div",{ref:se,className:"".concat(m,"-indent-unit")}))),A.createElement(O.Z,(0,Ne.Z)({},xe,{data:at,itemKey:ye,height:Q,fullHeight:!1,virtual:F,itemHeight:T,prefixCls:"".concat(m,"-list"),ref:Be,onVisibleChange:function(ze,Xe){var ot=new Set(ze),it=Xe.filter(function(et){return!ot.has(et)});it.some(function(et){return ye(et)===z})&&vt()}}),function(me){var ze=me.pos,Xe=Object.assign({},(ge(me.data),me.data)),ot=me.title,it=me.key,et=me.isStart,je=me.isEnd,pt=(0,x.km)(it,ze);delete Xe.key,delete Xe.children;var gt=(0,x.H8)(pt,ht);return A.createElement(W,(0,Ne.Z)({},Xe,gt,{title:ot,active:!!q&&it===q.key,pos:ze,data:me.data,isStart:et,isEnd:je,motion:k,motionNodes:it===z?yt:null,motionType:dt,onMotionStart:Oe,onMotionEnd:vt,treeNodeRequiredProps:ht,onMouseMove:function(){ee(null)}}))}))});We.displayName="NodeList";var Ge=We,_=h(10225),Te=h(17341),$e=h(35381),v=10,P=function(i){(0,Me.Z)(m,i);var p=(0,S.Z)(m);function m(){var e;(0,Ee.Z)(this,m);for(var u=arguments.length,M=new Array(u),C=0;C<u;C++)M[C]=arguments[C];return e=p.call.apply(p,[this].concat(M)),(0,K.Z)((0,o.Z)(e),"destroyed",!1),(0,K.Z)((0,o.Z)(e),"delayedDragEnterLogic",void 0),(0,K.Z)((0,o.Z)(e),"loadingRetryTimes",{}),(0,K.Z)((0,o.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,x.w$)()}),(0,K.Z)((0,o.Z)(e),"dragStartMousePosition",null),(0,K.Z)((0,o.Z)(e),"dragNode",void 0),(0,K.Z)((0,o.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,K.Z)((0,o.Z)(e),"listRef",A.createRef()),(0,K.Z)((0,o.Z)(e),"onNodeDragStart",function(t,a){var n=e.state,d=n.expandedKeys,c=n.keyEntities,g=e.props.onDragStart,Z=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var D=(0,_._5)(d,Z);e.setState({draggingNodeKey:Z,dragChildrenKeys:(0,_.wA)(Z,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(D),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,x.F)(a.props)})}),(0,K.Z)((0,o.Z)(e),"onNodeDragEnter",function(t,a){var n=e.state,d=n.expandedKeys,c=n.keyEntities,g=n.dragChildrenKeys,Z=n.flattenNodes,D=n.indent,$=e.props,E=$.onDragEnter,k=$.onExpand,Q=$.allowDrop,T=$.direction,F=a.props,Y=F.pos,q=F.eventKey,pe=(0,o.Z)(e),ae=pe.dragNode;if(e.currentMouseOverDroppableNodeKey!==q&&(e.currentMouseOverDroppableNodeKey=q),!ae){e.resetDragState();return}var ie=(0,_.OM)(t,ae,a,D,e.dragStartMousePosition,Q,Z,c,d,T),de=ie.dropPosition,Ze=ie.dropLevelOffset,ee=ie.dropTargetKey,Oe=ie.dropContainerKey,Pe=ie.dropTargetPos,xe=ie.dropAllowed,Be=ie.dragOverNodeKey;if(g.indexOf(ee)!==-1||!xe){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(se){clearTimeout(e.delayedDragEnterLogic[se])}),ae.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[Y]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var se=(0,Ke.Z)(d),Ae=(0,$e.Z)(c,a.props.eventKey);Ae&&(Ae.children||[]).length&&(se=(0,_.L0)(d,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(se),k==null||k(se,{node:(0,x.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),ae.props.eventKey===ee&&Ze===0){e.resetDragState();return}e.setState({dragOverNodeKey:Be,dropPosition:de,dropLevelOffset:Ze,dropTargetKey:ee,dropContainerKey:Oe,dropTargetPos:Pe,dropAllowed:xe}),E==null||E({event:t,node:(0,x.F)(a.props),expandedKeys:d})}),(0,K.Z)((0,o.Z)(e),"onNodeDragOver",function(t,a){var n=e.state,d=n.dragChildrenKeys,c=n.flattenNodes,g=n.keyEntities,Z=n.expandedKeys,D=n.indent,$=e.props,E=$.onDragOver,k=$.allowDrop,Q=$.direction,T=(0,o.Z)(e),F=T.dragNode;if(F){var Y=(0,_.OM)(t,F,a,D,e.dragStartMousePosition,k,c,g,Z,Q),q=Y.dropPosition,pe=Y.dropLevelOffset,ae=Y.dropTargetKey,ie=Y.dropContainerKey,de=Y.dropAllowed,Ze=Y.dropTargetPos,ee=Y.dragOverNodeKey;d.indexOf(ae)!==-1||!de||(F.props.eventKey===ae&&pe===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():q===e.state.dropPosition&&pe===e.state.dropLevelOffset&&ae===e.state.dropTargetKey&&ie===e.state.dropContainerKey&&Ze===e.state.dropTargetPos&&de===e.state.dropAllowed&&ee===e.state.dragOverNodeKey||e.setState({dropPosition:q,dropLevelOffset:pe,dropTargetKey:ae,dropContainerKey:ie,dropTargetPos:Ze,dropAllowed:de,dragOverNodeKey:ee}),E==null||E({event:t,node:(0,x.F)(a.props)}))}}),(0,K.Z)((0,o.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,x.F)(a.props)})}),(0,K.Z)((0,o.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,K.Z)((0,o.Z)(e),"onNodeDragEnd",function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,x.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,K.Z)((0,o.Z)(e),"onNodeDrop",function(t,a){var n,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,g=c.dragChildrenKeys,Z=c.dropPosition,D=c.dropTargetKey,$=c.dropTargetPos,E=c.dropAllowed;if(E){var k=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),D!==null){var Q=(0,le.Z)((0,le.Z)({},(0,x.H8)(D,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===D,data:(0,$e.Z)(e.state.keyEntities,D).node}),T=g.indexOf(D)!==-1;(0,De.ZP)(!T,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var F=(0,_.yx)($),Y={event:t,node:(0,x.F)(Q),dragNode:e.dragNode?(0,x.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:Z!==0,dropPosition:Z+Number(F[F.length-1])};d||k==null||k(Y),e.dragNode=null}}}),(0,K.Z)((0,o.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,K.Z)((0,o.Z)(e),"triggerExpandActionExpand",function(t,a){var n=e.state,d=n.expandedKeys,c=n.flattenNodes,g=a.expanded,Z=a.key,D=a.isLeaf;if(!(D||t.shiftKey||t.metaKey||t.ctrlKey)){var $=c.filter(function(k){return k.key===Z})[0],E=(0,x.F)((0,le.Z)((0,le.Z)({},(0,x.H8)(Z,e.getTreeNodeRequiredProps())),{},{data:$.data}));e.setExpandedKeys(g?(0,_._5)(d,Z):(0,_.L0)(d,Z)),e.onNodeExpand(t,E)}}),(0,K.Z)((0,o.Z)(e),"onNodeClick",function(t,a){var n=e.props,d=n.onClick,c=n.expandAction;c==="click"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,K.Z)((0,o.Z)(e),"onNodeDoubleClick",function(t,a){var n=e.props,d=n.onDoubleClick,c=n.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,K.Z)((0,o.Z)(e),"onNodeSelect",function(t,a){var n=e.state.selectedKeys,d=e.state,c=d.keyEntities,g=d.fieldNames,Z=e.props,D=Z.onSelect,$=Z.multiple,E=a.selected,k=a[g.key],Q=!E;Q?$?n=(0,_.L0)(n,k):n=[k]:n=(0,_._5)(n,k);var T=n.map(function(F){var Y=(0,$e.Z)(c,F);return Y?Y.node:null}).filter(function(F){return F});e.setUncontrolledState({selectedKeys:n}),D==null||D(n,{event:"select",selected:Q,node:a,selectedNodes:T,nativeEvent:t.nativeEvent})}),(0,K.Z)((0,o.Z)(e),"onNodeCheck",function(t,a,n){var d=e.state,c=d.keyEntities,g=d.checkedKeys,Z=d.halfCheckedKeys,D=e.props,$=D.checkStrictly,E=D.onCheck,k=a.key,Q,T={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if($){var F=n?(0,_.L0)(g,k):(0,_._5)(g,k),Y=(0,_._5)(Z,k);Q={checked:F,halfChecked:Y},T.checkedNodes=F.map(function(Ze){return(0,$e.Z)(c,Ze)}).filter(function(Ze){return Ze}).map(function(Ze){return Ze.node}),e.setUncontrolledState({checkedKeys:F})}else{var q=(0,Te.S)([].concat((0,Ke.Z)(g),[k]),!0,c),pe=q.checkedKeys,ae=q.halfCheckedKeys;if(!n){var ie=new Set(pe);ie.delete(k);var de=(0,Te.S)(Array.from(ie),{checked:!1,halfCheckedKeys:ae},c);pe=de.checkedKeys,ae=de.halfCheckedKeys}Q=pe,T.checkedNodes=[],T.checkedNodesPositions=[],T.halfCheckedKeys=ae,pe.forEach(function(Ze){var ee=(0,$e.Z)(c,Ze);if(ee){var Oe=ee.node,Pe=ee.pos;T.checkedNodes.push(Oe),T.checkedNodesPositions.push({node:Oe,pos:Pe})}}),e.setUncontrolledState({checkedKeys:pe},!1,{halfCheckedKeys:ae})}E==null||E(Q,T)}),(0,K.Z)((0,o.Z)(e),"onNodeLoad",function(t){var a,n=t.key,d=e.state.keyEntities,c=(0,$e.Z)(d,n);if(!(c!=null&&(a=c.children)!==null&&a!==void 0&&a.length)){var g=new Promise(function(Z,D){e.setState(function($){var E=$.loadedKeys,k=E===void 0?[]:E,Q=$.loadingKeys,T=Q===void 0?[]:Q,F=e.props,Y=F.loadData,q=F.onLoad;if(!Y||k.indexOf(n)!==-1||T.indexOf(n)!==-1)return null;var pe=Y(t);return pe.then(function(){var ae=e.state.loadedKeys,ie=(0,_.L0)(ae,n);q==null||q(ie,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:ie}),e.setState(function(de){return{loadingKeys:(0,_._5)(de.loadingKeys,n)}}),Z()}).catch(function(ae){if(e.setState(function(de){return{loadingKeys:(0,_._5)(de.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=v){var ie=e.state.loadedKeys;(0,De.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,_.L0)(ie,n)}),Z()}D(ae)}),{loadingKeys:(0,_.L0)(T,n)}})});return g.catch(function(){}),g}}),(0,K.Z)((0,o.Z)(e),"onNodeMouseEnter",function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})}),(0,K.Z)((0,o.Z)(e),"onNodeMouseLeave",function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})}),(0,K.Z)((0,o.Z)(e),"onNodeContextMenu",function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))}),(0,K.Z)((0,o.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];t==null||t.apply(void 0,n)}),(0,K.Z)((0,o.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];t==null||t.apply(void 0,n)}),(0,K.Z)((0,o.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,d=t.loadedKeys,c=t.loadingKeys,g=t.checkedKeys,Z=t.halfCheckedKeys,D=t.dragOverNodeKey,$=t.dropPosition,E=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:d||[],loadingKeys:c||[],checkedKeys:g||[],halfCheckedKeys:Z||[],dragOverNodeKey:D,dropPosition:$,keyEntities:E}}),(0,K.Z)((0,o.Z)(e),"setExpandedKeys",function(t){var a=e.state,n=a.treeData,d=a.fieldNames,c=(0,x.oH)(n,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:c},!0)}),(0,K.Z)((0,o.Z)(e),"onNodeExpand",function(t,a){var n=e.state.expandedKeys,d=e.state,c=d.listChanging,g=d.fieldNames,Z=e.props,D=Z.onExpand,$=Z.loadData,E=a.expanded,k=a[g.key];if(!c){var Q=n.indexOf(k),T=!E;if((0,De.ZP)(E&&Q!==-1||!E&&Q===-1,"Expand state not sync with index check"),T?n=(0,_.L0)(n,k):n=(0,_._5)(n,k),e.setExpandedKeys(n),D==null||D(n,{node:a,expanded:T,nativeEvent:t.nativeEvent}),T&&$){var F=e.onNodeLoad(a);F&&F.then(function(){var Y=(0,x.oH)(e.state.treeData,n,g);e.setUncontrolledState({flattenNodes:Y})}).catch(function(){var Y=e.state.expandedKeys,q=(0,_._5)(Y,k);e.setExpandedKeys(q)})}}}),(0,K.Z)((0,o.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,K.Z)((0,o.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,K.Z)((0,o.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,n=e.props,d=n.onActiveChange,c=n.itemScrollOffset,g=c===void 0?0:c;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:g}),d==null||d(t))}),(0,K.Z)((0,o.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(d){var c=d.key;return c===a})||null}),(0,K.Z)((0,o.Z)(e),"offsetActiveKey",function(t){var a=e.state,n=a.flattenNodes,d=a.activeKey,c=n.findIndex(function(D){var $=D.key;return $===d});c===-1&&t<0&&(c=n.length),c=(c+t+n.length)%n.length;var g=n[c];if(g){var Z=g.key;e.onActiveChange(Z)}else e.onActiveChange(null)}),(0,K.Z)((0,o.Z)(e),"onKeyDown",function(t){var a=e.state,n=a.activeKey,d=a.expandedKeys,c=a.checkedKeys,g=a.fieldNames,Z=e.props,D=Z.onKeyDown,$=Z.checkable,E=Z.selectable;switch(t.which){case H.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case H.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var k=e.getActiveItem();if(k&&k.data){var Q=e.getTreeNodeRequiredProps(),T=k.data.isLeaf===!1||!!(k.data[g.children]||[]).length,F=(0,x.F)((0,le.Z)((0,le.Z)({},(0,x.H8)(n,Q)),{},{data:k.data,active:!0}));switch(t.which){case H.Z.LEFT:{T&&d.includes(n)?e.onNodeExpand({},F):k.parent&&e.onActiveChange(k.parent.key),t.preventDefault();break}case H.Z.RIGHT:{T&&!d.includes(n)?e.onNodeExpand({},F):k.children&&k.children.length&&e.onActiveChange(k.children[0].key),t.preventDefault();break}case H.Z.ENTER:case H.Z.SPACE:{$&&!F.disabled&&F.checkable!==!1&&!F.disableCheckbox?e.onNodeCheck({},F,!c.includes(n)):!$&&E&&!F.disabled&&F.selectable!==!1&&e.onNodeSelect({},F);break}}}D==null||D(t)}),(0,K.Z)((0,o.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,c=!0,g={};Object.keys(t).forEach(function(Z){if(Z in e.props){c=!1;return}d=!0,g[Z]=t[Z]}),d&&(!a||c)&&e.setState((0,le.Z)((0,le.Z)({},g),n))}}),(0,K.Z)((0,o.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,U.Z)(m,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var u=this.props,M=u.activeKey,C=u.itemScrollOffset,t=C===void 0?0:C;M!==void 0&&M!==this.state.activeKey&&(this.setState({activeKey:M}),M!==null&&this.scrollTo({key:M,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var u=this.state,M=u.focused,C=u.flattenNodes,t=u.keyEntities,a=u.draggingNodeKey,n=u.activeKey,d=u.dropLevelOffset,c=u.dropContainerKey,g=u.dropTargetKey,Z=u.dropPosition,D=u.dragOverNodeKey,$=u.indent,E=this.props,k=E.prefixCls,Q=E.className,T=E.style,F=E.showLine,Y=E.focusable,q=E.tabIndex,pe=q===void 0?0:q,ae=E.selectable,ie=E.showIcon,de=E.icon,Ze=E.switcherIcon,ee=E.draggable,Oe=E.checkable,Pe=E.checkStrictly,xe=E.disabled,Be=E.motion,se=E.loadData,Ae=E.filterTreeNode,_e=E.height,tt=E.itemHeight,nt=E.virtual,Ue=E.titleRender,Ye=E.dropIndicatorRender,Le=E.onContextMenu,He=E.onScroll,Re=E.direction,be=E.rootClassName,Ve=E.rootStyle,Je=(0,ve.Z)(this.props,{aria:!0,data:!0}),Qe;return ee&&((0,ce.Z)(ee)==="object"?Qe=ee:typeof ee=="function"?Qe={nodeDraggable:ee}:Qe={}),A.createElement(ke.k.Provider,{value:{prefixCls:k,selectable:ae,showIcon:ie,icon:de,switcherIcon:Ze,draggable:Qe,draggingNodeKey:a,checkable:Oe,checkStrictly:Pe,disabled:xe,keyEntities:t,dropLevelOffset:d,dropContainerKey:c,dropTargetKey:g,dropPosition:Z,dragOverNodeKey:D,indent:$,direction:Re,dropIndicatorRender:Ye,loadData:se,filterTreeNode:Ae,titleRender:Ue,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},A.createElement("div",{role:"tree",className:oe()(k,Q,be,(0,K.Z)((0,K.Z)((0,K.Z)({},"".concat(k,"-show-line"),F),"".concat(k,"-focused"),M),"".concat(k,"-active-focused"),n!==null)),style:Ve},A.createElement(Ge,(0,Ne.Z)({ref:this.listRef,prefixCls:k,style:T,data:C,disabled:xe,selectable:ae,checkable:!!Oe,motion:Be,dragging:a!==null,height:_e,itemHeight:tt,virtual:nt,focusable:Y,focused:M,tabIndex:pe,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Le,onScroll:He},this.getTreeNodeRequiredProps(),Je))))}}],[{key:"getDerivedStateFromProps",value:function(u,M){var C=M.prevProps,t={prevProps:u};function a(q){return!C&&q in u||C&&C[q]!==u[q]}var n,d=M.fieldNames;if(a("fieldNames")&&(d=(0,x.w$)(u.fieldNames),t.fieldNames=d),a("treeData")?n=u.treeData:a("children")&&((0,De.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,x.zn)(u.children)),n){t.treeData=n;var c=(0,x.I8)(n,{fieldNames:d});t.keyEntities=(0,le.Z)((0,K.Z)({},z,Se),c.keyEntities)}var g=t.keyEntities||M.keyEntities;if(a("expandedKeys")||C&&a("autoExpandParent"))t.expandedKeys=u.autoExpandParent||!C&&u.defaultExpandParent?(0,_.r7)(u.expandedKeys,g):u.expandedKeys;else if(!C&&u.defaultExpandAll){var Z=(0,le.Z)({},g);delete Z[z],t.expandedKeys=Object.keys(Z).map(function(q){return Z[q].key})}else!C&&u.defaultExpandedKeys&&(t.expandedKeys=u.autoExpandParent||u.defaultExpandParent?(0,_.r7)(u.defaultExpandedKeys,g):u.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var D=(0,x.oH)(n||M.treeData,t.expandedKeys||M.expandedKeys,d);t.flattenNodes=D}if(u.selectable&&(a("selectedKeys")?t.selectedKeys=(0,_.BT)(u.selectedKeys,u):!C&&u.defaultSelectedKeys&&(t.selectedKeys=(0,_.BT)(u.defaultSelectedKeys,u))),u.checkable){var $;if(a("checkedKeys")?$=(0,_.E6)(u.checkedKeys)||{}:!C&&u.defaultCheckedKeys?$=(0,_.E6)(u.defaultCheckedKeys)||{}:n&&($=(0,_.E6)(u.checkedKeys)||{checkedKeys:M.checkedKeys,halfCheckedKeys:M.halfCheckedKeys}),$){var E=$,k=E.checkedKeys,Q=k===void 0?[]:k,T=E.halfCheckedKeys,F=T===void 0?[]:T;if(!u.checkStrictly){var Y=(0,Te.S)(Q,!0,g);Q=Y.checkedKeys,F=Y.halfCheckedKeys}t.checkedKeys=Q,t.halfCheckedKeys=F}}return a("loadedKeys")&&(t.loadedKeys=u.loadedKeys),t}}]),m}(A.Component);(0,K.Z)(P,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ue,allowDrop:function(){return!0},expandAction:!1}),(0,K.Z)(P,"TreeNode",L.Z);var N=P,b=N},10225:function(st,Ie,h){h.d(Ie,{BT:function(){return A},E6:function(){return ge},L0:function(){return K},OM:function(){return De},_5:function(){return S},r7:function(){return ne},wA:function(){return oe},yx:function(){return X}});var Ne=h(74902),ce=h(71002),le=h(80334),Ke=h(67294),Ee=h(86128),U=h(35381),o=h(1089),Me=null;function S(s,y){if(!s)return[];var O=s.slice(),I=O.indexOf(y);return I>=0&&O.splice(I,1),O}function K(s,y){var O=(s||[]).slice();return O.indexOf(y)===-1&&O.push(y),O}function X(s){return s.split("-")}function oe(s,y){var O=[],I=(0,U.Z)(y,s);function L(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];B.forEach(function(x){var J=x.key,r=x.children;O.push(J),L(r)})}return L(I.children),O}function H(s){if(s.parent){var y=X(s.pos);return Number(y[y.length-1])===s.parent.children.length-1}return!1}function ve(s){var y=X(s.pos);return Number(y[y.length-1])===0}function De(s,y,O,I,L,B,x,J,r,te){var W,re=s.clientX,l=s.clientY,f=s.target.getBoundingClientRect(),R=f.top,w=f.height,z=(te==="rtl"?-1:1)*(((L==null?void 0:L.x)||0)-re),he=(z-12)/I,Se=r.filter(function(i){var p;return(p=J[i])===null||p===void 0||(p=p.children)===null||p===void 0?void 0:p.length}),V=(0,U.Z)(J,O.props.eventKey);if(l<R+w/2){var Ce=x.findIndex(function(i){return i.key===V.key}),ye=Ce<=0?0:Ce-1,Fe=x[ye].key;V=(0,U.Z)(J,Fe)}var We=V.key,Ge=V,_=V.key,Te=0,$e=0;if(!Se.includes(We))for(var v=0;v<he&&H(V);v+=1)V=V.parent,$e+=1;var P=y.props.data,N=V.node,b=!0;return ve(V)&&V.level===0&&l<R+w/2&&B({dragNode:P,dropNode:N,dropPosition:-1})&&V.key===O.props.eventKey?Te=-1:(Ge.children||[]).length&&Se.includes(_)?B({dragNode:P,dropNode:N,dropPosition:0})?Te=0:b=!1:$e===0?he>-1.5?B({dragNode:P,dropNode:N,dropPosition:1})?Te=1:b=!1:B({dragNode:P,dropNode:N,dropPosition:0})?Te=0:B({dragNode:P,dropNode:N,dropPosition:1})?Te=1:b=!1:B({dragNode:P,dropNode:N,dropPosition:1})?Te=1:b=!1,{dropPosition:Te,dropLevelOffset:$e,dropTargetKey:V.key,dropTargetPos:V.pos,dragOverNodeKey:_,dropContainerKey:Te===0?null:((W=V.parent)===null||W===void 0?void 0:W.key)||null,dropAllowed:b}}function A(s,y){if(s){var O=y.multiple;return O?s.slice():s.length?[s[0]]:s}}var ke=function(y){return y};function ue(s,y){if(!s)return[];var O=y||{},I=O.processProps,L=I===void 0?ke:I,B=Array.isArray(s)?s:[s];return B.map(function(x){var J=x.children,r=_objectWithoutProperties(x,Me),te=ue(J,y);return React.createElement(TreeNode,_extends({key:r.key},L(r)),te)})}function ge(s){if(!s)return null;var y;if(Array.isArray(s))y={checkedKeys:s,halfCheckedKeys:void 0};else if((0,ce.Z)(s)==="object")y={checkedKeys:s.checked||void 0,halfCheckedKeys:s.halfChecked||void 0};else return(0,le.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return y}function ne(s,y){var O=new Set;function I(L){if(!O.has(L)){var B=(0,U.Z)(y,L);if(B){O.add(L);var x=B.parent,J=B.node;J.disabled||x&&I(x.key)}}}return(s||[]).forEach(function(L){I(L)}),(0,Ne.Z)(O)}},17341:function(st,Ie,h){h.d(Ie,{S:function(){return o}});var Ne=h(80334),ce=h(35381);function le(Me,S){var K=new Set;return Me.forEach(function(X){S.has(X)||K.add(X)}),K}function Ke(Me){var S=Me||{},K=S.disabled,X=S.disableCheckbox,oe=S.checkable;return!!(K||X)||oe===!1}function Ee(Me,S,K,X){for(var oe=new Set(Me),H=new Set,ve=0;ve<=K;ve+=1){var De=S.get(ve)||new Set;De.forEach(function(ge){var ne=ge.key,s=ge.node,y=ge.children,O=y===void 0?[]:y;oe.has(ne)&&!X(s)&&O.filter(function(I){return!X(I.node)}).forEach(function(I){oe.add(I.key)})})}for(var A=new Set,ke=K;ke>=0;ke-=1){var ue=S.get(ke)||new Set;ue.forEach(function(ge){var ne=ge.parent,s=ge.node;if(!(X(s)||!ge.parent||A.has(ge.parent.key))){if(X(ge.parent.node)){A.add(ne.key);return}var y=!0,O=!1;(ne.children||[]).filter(function(I){return!X(I.node)}).forEach(function(I){var L=I.key,B=oe.has(L);y&&!B&&(y=!1),!O&&(B||H.has(L))&&(O=!0)}),y&&oe.add(ne.key),O&&H.add(ne.key),A.add(ne.key)}})}return{checkedKeys:Array.from(oe),halfCheckedKeys:Array.from(le(H,oe))}}function U(Me,S,K,X,oe){for(var H=new Set(Me),ve=new Set(S),De=0;De<=X;De+=1){var A=K.get(De)||new Set;A.forEach(function(ne){var s=ne.key,y=ne.node,O=ne.children,I=O===void 0?[]:O;!H.has(s)&&!ve.has(s)&&!oe(y)&&I.filter(function(L){return!oe(L.node)}).forEach(function(L){H.delete(L.key)})})}ve=new Set;for(var ke=new Set,ue=X;ue>=0;ue-=1){var ge=K.get(ue)||new Set;ge.forEach(function(ne){var s=ne.parent,y=ne.node;if(!(oe(y)||!ne.parent||ke.has(ne.parent.key))){if(oe(ne.parent.node)){ke.add(s.key);return}var O=!0,I=!1;(s.children||[]).filter(function(L){return!oe(L.node)}).forEach(function(L){var B=L.key,x=H.has(B);O&&!x&&(O=!1),!I&&(x||ve.has(B))&&(I=!0)}),O||H.delete(s.key),I&&ve.add(s.key),ke.add(s.key)}})}return{checkedKeys:Array.from(H),halfCheckedKeys:Array.from(le(ve,H))}}function o(Me,S,K,X){var oe=[],H;X?H=X:H=Ke;var ve=new Set(Me.filter(function(ue){var ge=!!(0,ce.Z)(K,ue);return ge||oe.push(ue),ge})),De=new Map,A=0;Object.keys(K).forEach(function(ue){var ge=K[ue],ne=ge.level,s=De.get(ne);s||(s=new Set,De.set(ne,s)),s.add(ge),A=Math.max(A,ne)}),(0,Ne.ZP)(!oe.length,"Tree missing follow keys: ".concat(oe.slice(0,100).map(function(ue){return"'".concat(ue,"'")}).join(", ")));var ke;return S===!0?ke=Ee(ve,De,A,H):ke=U(ve,S.halfCheckedKeys,De,A,H),ke}},35381:function(st,Ie,h){h.d(Ie,{Z:function(){return Ne}});function Ne(ce,le){return ce[le]}},1089:function(st,Ie,h){h.d(Ie,{F:function(){return ne},H8:function(){return ge},I8:function(){return ue},km:function(){return oe},oH:function(){return A},w$:function(){return H},zn:function(){return De}});var Ne=h(71002),ce=h(74902),le=h(1413),Ke=h(91),Ee=h(50344),U=h(98423),o=h(80334),Me=h(35381),S=["children"];function K(s,y){return"".concat(s,"-").concat(y)}function X(s){return s&&s.type&&s.type.isTreeNode}function oe(s,y){return s!=null?s:y}function H(s){var y=s||{},O=y.title,I=y._title,L=y.key,B=y.children,x=O||"title";return{title:x,_title:I||[x],key:L||"key",children:B||"children"}}function ve(s,y){var O=new Map;function I(L){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(L||[]).forEach(function(x){var J=x[y.key],r=x[y.children];warning(J!=null,"Tree node must have a certain key: [".concat(B).concat(J,"]"));var te=String(J);warning(!O.has(te)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(te)),O.set(te,!0),I(r,"".concat(B).concat(te," > "))})}I(s)}function De(s){function y(O){var I=(0,Ee.Z)(O);return I.map(function(L){if(!X(L))return(0,o.ZP)(!L,"Tree/TreeNode can only accept TreeNode as children."),null;var B=L.key,x=L.props,J=x.children,r=(0,Ke.Z)(x,S),te=(0,le.Z)({key:B},r),W=y(J);return W.length&&(te.children=W),te}).filter(function(L){return L})}return y(s)}function A(s,y,O){var I=H(O),L=I._title,B=I.key,x=I.children,J=new Set(y===!0?[]:y),r=[];function te(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return W.map(function(l,f){for(var R=K(re?re.pos:"0",f),w=oe(l[B],R),z,he=0;he<L.length;he+=1){var Se=L[he];if(l[Se]!==void 0){z=l[Se];break}}var V=(0,le.Z)((0,le.Z)({},(0,U.Z)(l,[].concat((0,ce.Z)(L),[B,x]))),{},{title:z,key:w,parent:re,pos:R,children:null,data:l,isStart:[].concat((0,ce.Z)(re?re.isStart:[]),[f===0]),isEnd:[].concat((0,ce.Z)(re?re.isEnd:[]),[f===W.length-1])});return r.push(V),y===!0||J.has(w)?V.children=te(l[x]||[],V):V.children=[],V})}return te(s),r}function ke(s,y,O){var I={};(0,Ne.Z)(O)==="object"?I=O:I={externalGetKey:O},I=I||{};var L=I,B=L.childrenPropName,x=L.externalGetKey,J=L.fieldNames,r=H(J),te=r.key,W=r.children,re=B||W,l;x?typeof x=="string"?l=function(w){return w[x]}:typeof x=="function"&&(l=function(w){return x(w)}):l=function(w,z){return oe(w[te],z)};function f(R,w,z,he){var Se=R?R[re]:s,V=R?K(z.pos,w):"0",Ce=R?[].concat((0,ce.Z)(he),[R]):[];if(R){var ye=l(R,V),Fe={node:R,index:w,pos:V,key:ye,parentPos:z.node?z.pos:null,level:z.level+1,nodes:Ce};y(Fe)}Se&&Se.forEach(function(We,Ge){f(We,Ge,{node:R,pos:V,level:z?z.level+1:-1},Ce)})}f(null)}function ue(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=y.initWrapper,I=y.processEntity,L=y.onProcessFinished,B=y.externalGetKey,x=y.childrenPropName,J=y.fieldNames,r=arguments.length>2?arguments[2]:void 0,te=B||r,W={},re={},l={posEntities:W,keyEntities:re};return O&&(l=O(l)||l),ke(s,function(f){var R=f.node,w=f.index,z=f.pos,he=f.key,Se=f.parentPos,V=f.level,Ce=f.nodes,ye={node:R,nodes:Ce,index:w,key:he,pos:z,level:V},Fe=oe(he,z);W[z]=ye,re[Fe]=ye,ye.parent=W[Se],ye.parent&&(ye.parent.children=ye.parent.children||[],ye.parent.children.push(ye)),I&&I(ye,l)},{externalGetKey:te,childrenPropName:x,fieldNames:J}),L&&L(l),l}function ge(s,y){var O=y.expandedKeys,I=y.selectedKeys,L=y.loadedKeys,B=y.loadingKeys,x=y.checkedKeys,J=y.halfCheckedKeys,r=y.dragOverNodeKey,te=y.dropPosition,W=y.keyEntities,re=(0,Me.Z)(W,s),l={eventKey:s,expanded:O.indexOf(s)!==-1,selected:I.indexOf(s)!==-1,loaded:L.indexOf(s)!==-1,loading:B.indexOf(s)!==-1,checked:x.indexOf(s)!==-1,halfChecked:J.indexOf(s)!==-1,pos:String(re?re.pos:""),dragOver:r===s&&te===0,dragOverGapTop:r===s&&te===-1,dragOverGapBottom:r===s&&te===1};return l}function ne(s){var y=s.data,O=s.expanded,I=s.selected,L=s.checked,B=s.loaded,x=s.loading,J=s.halfChecked,r=s.dragOver,te=s.dragOverGapTop,W=s.dragOverGapBottom,re=s.pos,l=s.active,f=s.eventKey,R=(0,le.Z)((0,le.Z)({},y),{},{expanded:O,selected:I,checked:L,loaded:B,loading:x,halfChecked:J,dragOver:r,dragOverGapTop:te,dragOverGapBottom:W,pos:re,active:l,key:f});return"props"in R||Object.defineProperty(R,"props",{get:function(){return(0,o.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),s}}),R}},64217:function(st,Ie,h){h.d(Ie,{Z:function(){return Me}});var Ne=h(1413),ce=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,le=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Ke="".concat(ce," ").concat(le).split(/[\s\n]+/),Ee="aria-",U="data-";function o(S,K){return S.indexOf(K)===0}function Me(S){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X;K===!1?X={aria:!0,data:!0,attr:!0}:K===!0?X={aria:!0}:X=(0,Ne.Z)({},K);var oe={};return Object.keys(S).forEach(function(H){(X.aria&&(H==="role"||o(H,Ee))||X.data&&o(H,U)||X.attr&&Ke.includes(H))&&(oe[H]=S[H])}),oe}},85344:function(st,Ie,h){h.d(Ie,{Z:function(){return $e}});var Ne=h(87462),ce=h(1413),le=h(71002),Ke=h(4942),Ee=h(97685),U=h(91),o=h(67294),Me=h(73935),S=h(93967),K=h.n(S),X=h(48555),oe=o.forwardRef(function(v,P){var N=v.height,b=v.offsetY,i=v.offsetX,p=v.children,m=v.prefixCls,e=v.onInnerResize,u=v.innerProps,M=v.rtl,C=v.extra,t={},a={display:"flex",flexDirection:"column"};return b!==void 0&&(t={height:N,position:"relative",overflow:"hidden"},a=(0,ce.Z)((0,ce.Z)({},a),{},(0,Ke.Z)((0,Ke.Z)((0,Ke.Z)((0,Ke.Z)((0,Ke.Z)({transform:"translateY(".concat(b,"px)")},M?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:t},o.createElement(X.Z,{onResize:function(d){var c=d.offsetHeight;c&&e&&e()}},o.createElement("div",(0,Ne.Z)({style:a,className:K()((0,Ke.Z)({},"".concat(m,"-holder-inner"),m)),ref:P},u),p,C)))});oe.displayName="Filler";var H=oe,ve=h(75164);function De(v,P){var N="touches"in v?v.touches[0]:v;return N[P?"pageX":"pageY"]}var A=o.forwardRef(function(v,P){var N=v.prefixCls,b=v.rtl,i=v.scrollOffset,p=v.scrollRange,m=v.onStartMove,e=v.onStopMove,u=v.onScroll,M=v.horizontal,C=v.spinSize,t=v.containerSize,a=v.style,n=v.thumbStyle,d=o.useState(!1),c=(0,Ee.Z)(d,2),g=c[0],Z=c[1],D=o.useState(null),$=(0,Ee.Z)(D,2),E=$[0],k=$[1],Q=o.useState(null),T=(0,Ee.Z)(Q,2),F=T[0],Y=T[1],q=!b,pe=o.useRef(),ae=o.useRef(),ie=o.useState(!1),de=(0,Ee.Z)(ie,2),Ze=de[0],ee=de[1],Oe=o.useRef(),Pe=function(){clearTimeout(Oe.current),ee(!0),Oe.current=setTimeout(function(){ee(!1)},3e3)},xe=p-t||0,Be=t-C||0,se=o.useMemo(function(){if(i===0||xe===0)return 0;var Re=i/xe;return Re*Be},[i,xe,Be]),Ae=function(be){be.stopPropagation(),be.preventDefault()},_e=o.useRef({top:se,dragging:g,pageY:E,startTop:F});_e.current={top:se,dragging:g,pageY:E,startTop:F};var tt=function(be){Z(!0),k(De(be,M)),Y(_e.current.top),m(),be.stopPropagation(),be.preventDefault()};o.useEffect(function(){var Re=function(Qe){Qe.preventDefault()},be=pe.current,Ve=ae.current;return be.addEventListener("touchstart",Re),Ve.addEventListener("touchstart",tt),function(){be.removeEventListener("touchstart",Re),Ve.removeEventListener("touchstart",tt)}},[]);var nt=o.useRef();nt.current=xe;var Ue=o.useRef();Ue.current=Be,o.useEffect(function(){if(g){var Re,be=function(Qe){var rt=_e.current,yt=rt.dragging,lt=rt.pageY,mt=rt.startTop;if(ve.Z.cancel(Re),yt){var qe=De(Qe,M)-lt,dt=mt;!q&&M?dt-=qe:dt+=qe;var ct=nt.current,ft=Ue.current,vt=ft?dt/ft:0,at=Math.ceil(vt*ct);at=Math.max(at,0),at=Math.min(at,ct),Re=(0,ve.Z)(function(){u(at,M)})}},Ve=function(){Z(!1),e()};return window.addEventListener("mousemove",be),window.addEventListener("touchmove",be),window.addEventListener("mouseup",Ve),window.addEventListener("touchend",Ve),function(){window.removeEventListener("mousemove",be),window.removeEventListener("touchmove",be),window.removeEventListener("mouseup",Ve),window.removeEventListener("touchend",Ve),ve.Z.cancel(Re)}}},[g]),o.useEffect(function(){Pe()},[i]),o.useImperativeHandle(P,function(){return{delayHidden:Pe}});var Ye="".concat(N,"-scrollbar"),Le={position:"absolute",visibility:Ze?null:"hidden"},He={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return M?(Le.height=8,Le.left=0,Le.right=0,Le.bottom=0,He.height="100%",He.width=C,q?He.left=se:He.right=se):(Le.width=8,Le.top=0,Le.bottom=0,q?Le.right=0:Le.left=0,He.width="100%",He.height=C,He.top=se),o.createElement("div",{ref:pe,className:K()(Ye,(0,Ke.Z)((0,Ke.Z)((0,Ke.Z)({},"".concat(Ye,"-horizontal"),M),"".concat(Ye,"-vertical"),!M),"".concat(Ye,"-visible"),Ze)),style:(0,ce.Z)((0,ce.Z)({},Le),a),onMouseDown:Ae,onMouseMove:Pe},o.createElement("div",{ref:ae,className:K()("".concat(Ye,"-thumb"),(0,Ke.Z)({},"".concat(Ye,"-thumb-moving"),g)),style:(0,ce.Z)((0,ce.Z)({},He),n),onMouseDown:tt}))}),ke=A;function ue(v){var P=v.children,N=v.setRef,b=o.useCallback(function(i){N(i)},[]);return o.cloneElement(P,{ref:b})}function ge(v,P,N,b,i,p,m){var e=m.getKey;return v.slice(P,N+1).map(function(u,M){var C=P+M,t=p(u,C,{style:{width:b}}),a=e(u);return o.createElement(ue,{key:a,setRef:function(d){return i(u,d)}},t)})}var ne=h(34203),s=h(15671),y=h(43144),O=function(){function v(){(0,s.Z)(this,v),(0,Ke.Z)(this,"maps",void 0),(0,Ke.Z)(this,"id",0),this.maps=Object.create(null)}return(0,y.Z)(v,[{key:"set",value:function(N,b){this.maps[N]=b,this.id+=1}},{key:"get",value:function(N){return this.maps[N]}}]),v}(),I=O;function L(v,P,N){var b=o.useState(0),i=(0,Ee.Z)(b,2),p=i[0],m=i[1],e=(0,o.useRef)(new Map),u=(0,o.useRef)(new I),M=(0,o.useRef)();function C(){ve.Z.cancel(M.current)}function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;C();var d=function(){e.current.forEach(function(g,Z){if(g&&g.offsetParent){var D=(0,ne.Z)(g),$=D.offsetHeight;u.current.get(Z)!==$&&u.current.set(Z,D.offsetHeight)}}),m(function(g){return g+1})};n?d():M.current=(0,ve.Z)(d)}function a(n,d){var c=v(n),g=e.current.get(c);d?(e.current.set(c,d),t()):e.current.delete(c),!g!=!d&&(d?P==null||P(n):N==null||N(n))}return(0,o.useEffect)(function(){return C},[]),[a,t,u.current,p]}var B=h(8410),x=h(56790),J=10;function r(v,P,N,b,i,p,m,e){var u=o.useRef(),M=o.useState(null),C=(0,Ee.Z)(M,2),t=C[0],a=C[1];return(0,B.Z)(function(){if(t&&t.times<J){if(!v.current){a(function(xe){return(0,ce.Z)({},xe)});return}p();var n=t.targetAlign,d=t.originAlign,c=t.index,g=t.offset,Z=v.current.clientHeight,D=!1,$=n,E=null;if(Z){for(var k=n||d,Q=0,T=0,F=0,Y=Math.min(P.length-1,c),q=0;q<=Y;q+=1){var pe=i(P[q]);T=Q;var ae=N.get(pe);F=T+(ae===void 0?b:ae),Q=F}for(var ie=k==="top"?g:Z-g,de=Y;de>=0;de-=1){var Ze=i(P[de]),ee=N.get(Ze);if(ee===void 0){D=!0;break}if(ie-=ee,ie<=0)break}switch(k){case"top":E=T-g;break;case"bottom":E=F-Z+g;break;default:{var Oe=v.current.scrollTop,Pe=Oe+Z;T<Oe?$="top":F>Pe&&($="bottom")}}E!==null&&m(E),E!==t.lastTop&&(D=!0)}D&&a((0,ce.Z)((0,ce.Z)({},t),{},{times:t.times+1,targetAlign:$,lastTop:E}))}},[t,v.current]),function(n){if(n==null){e();return}if(ve.Z.cancel(u.current),typeof n=="number")m(n);else if(n&&(0,le.Z)(n)==="object"){var d,c=n.align;"index"in n?d=n.index:d=P.findIndex(function(D){return i(D)===n.key});var g=n.offset,Z=g===void 0?0:g;a({times:0,index:d,offset:Z,originAlign:c})}}}function te(v,P,N,b){var i=N-v,p=P-N,m=Math.min(i,p)*2;if(b<=m){var e=Math.floor(b/2);return b%2?N+e+1:N-e}return i>p?N-(b-p):N+(b-i)}function W(v,P,N){var b=v.length,i=P.length,p,m;if(b===0&&i===0)return null;b<i?(p=v,m=P):(p=P,m=v);var e={__EMPTY_ITEM__:!0};function u(d){return d!==void 0?N(d):e}for(var M=null,C=Math.abs(b-i)!==1,t=0;t<m.length;t+=1){var a=u(p[t]),n=u(m[t]);if(a!==n){M=t,C=C||a!==u(m[t+1]);break}}return M===null?null:{index:M,multiple:C}}function re(v,P,N){var b=o.useState(v),i=(0,Ee.Z)(b,2),p=i[0],m=i[1],e=o.useState(null),u=(0,Ee.Z)(e,2),M=u[0],C=u[1];return o.useEffect(function(){var t=W(p||[],v||[],P);(t==null?void 0:t.index)!==void 0&&(N==null||N(t.index),C(v[t.index])),m(v)},[v]),[M]}var l=(typeof navigator=="undefined"?"undefined":(0,le.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),f=l,R=function(v,P){var N=(0,o.useRef)(!1),b=(0,o.useRef)(null);function i(){clearTimeout(b.current),N.current=!0,b.current=setTimeout(function(){N.current=!1},50)}var p=(0,o.useRef)({top:v,bottom:P});return p.current.top=v,p.current.bottom=P,function(m){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=m<0&&p.current.top||m>0&&p.current.bottom;return e&&u?(clearTimeout(b.current),N.current=!1):(!u||N.current)&&i(),!N.current&&u}};function w(v,P,N,b,i){var p=(0,o.useRef)(0),m=(0,o.useRef)(null),e=(0,o.useRef)(null),u=(0,o.useRef)(!1),M=R(P,N);function C(g,Z){ve.Z.cancel(m.current),p.current+=Z,e.current=Z,!M(Z)&&(f||g.preventDefault(),m.current=(0,ve.Z)(function(){var D=u.current?10:1;i(p.current*D),p.current=0}))}function t(g,Z){i(Z,!0),f||g.preventDefault()}var a=(0,o.useRef)(null),n=(0,o.useRef)(null);function d(g){if(v){ve.Z.cancel(n.current),n.current=(0,ve.Z)(function(){a.current=null},2);var Z=g.deltaX,D=g.deltaY,$=g.shiftKey,E=Z,k=D;(a.current==="sx"||!a.current&&$&&D&&!Z)&&(E=D,k=0,a.current="sx");var Q=Math.abs(E),T=Math.abs(k);a.current===null&&(a.current=b&&Q>T?"x":"y"),a.current==="y"?C(g,k):t(g,E)}}function c(g){v&&(u.current=g.detail===e.current)}return[d,c]}var z=14/15;function he(v,P,N){var b=(0,o.useRef)(!1),i=(0,o.useRef)(0),p=(0,o.useRef)(null),m=(0,o.useRef)(null),e,u=function(a){if(b.current){var n=Math.ceil(a.touches[0].pageY),d=i.current-n;i.current=n,N(d)&&a.preventDefault(),clearInterval(m.current),m.current=setInterval(function(){d*=z,(!N(d,!0)||Math.abs(d)<=.1)&&clearInterval(m.current)},16)}},M=function(){b.current=!1,e()},C=function(a){e(),a.touches.length===1&&!b.current&&(b.current=!0,i.current=Math.ceil(a.touches[0].pageY),p.current=a.target,p.current.addEventListener("touchmove",u),p.current.addEventListener("touchend",M))};e=function(){p.current&&(p.current.removeEventListener("touchmove",u),p.current.removeEventListener("touchend",M))},(0,B.Z)(function(){return v&&P.current.addEventListener("touchstart",C),function(){var t;(t=P.current)===null||t===void 0||t.removeEventListener("touchstart",C),e(),clearInterval(m.current)}},[v])}var Se=20;function V(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=v/P*v;return isNaN(N)&&(N=0),N=Math.max(N,Se),Math.floor(N)}function Ce(v,P,N,b){var i=o.useMemo(function(){return[new Map,[]]},[v,N.id,b]),p=(0,Ee.Z)(i,2),m=p[0],e=p[1],u=function(C){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,a=m.get(C),n=m.get(t);if(a===void 0||n===void 0)for(var d=v.length,c=e.length;c<d;c+=1){var g,Z=v[c],D=P(Z);m.set(D,c);var $=(g=N.get(D))!==null&&g!==void 0?g:b;if(e[c]=(e[c-1]||0)+$,D===C&&(a=c),D===t&&(n=c),a!==void 0&&n!==void 0)break}return{top:e[a-1]||0,bottom:e[n]}};return u}var ye=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Fe=[],We={overflowY:"auto",overflowAnchor:"none"};function Ge(v,P){var N=v.prefixCls,b=N===void 0?"rc-virtual-list":N,i=v.className,p=v.height,m=v.itemHeight,e=v.fullHeight,u=e===void 0?!0:e,M=v.style,C=v.data,t=v.children,a=v.itemKey,n=v.virtual,d=v.direction,c=v.scrollWidth,g=v.component,Z=g===void 0?"div":g,D=v.onScroll,$=v.onVirtualScroll,E=v.onVisibleChange,k=v.innerProps,Q=v.extraRender,T=v.styles,F=(0,U.Z)(v,ye),Y=o.useCallback(function(j){return typeof a=="function"?a(j):j==null?void 0:j[a]},[a]),q=L(Y,null,null),pe=(0,Ee.Z)(q,4),ae=pe[0],ie=pe[1],de=pe[2],Ze=pe[3],ee=!!(n!==!1&&p&&m),Oe=o.useMemo(function(){return Object.values(de.maps).reduce(function(j,G){return j+G},0)},[de.id,de.maps]),Pe=ee&&C&&(Math.max(m*C.length,Oe)>p||!!c),xe=d==="rtl",Be=K()(b,(0,Ke.Z)({},"".concat(b,"-rtl"),xe),i),se=C||Fe,Ae=(0,o.useRef)(),_e=(0,o.useRef)(),tt=(0,o.useState)(0),nt=(0,Ee.Z)(tt,2),Ue=nt[0],Ye=nt[1],Le=(0,o.useState)(0),He=(0,Ee.Z)(Le,2),Re=He[0],be=He[1],Ve=(0,o.useState)(!1),Je=(0,Ee.Z)(Ve,2),Qe=Je[0],rt=Je[1],yt=function(){rt(!0)},lt=function(){rt(!1)},mt={getKey:Y};function qe(j){Ye(function(G){var fe;typeof j=="function"?fe=j(G):fe=j;var we=Wt(fe);return Ae.current.scrollTop=we,we})}var dt=(0,o.useRef)({start:0,end:se.length}),ct=(0,o.useRef)(),ft=re(se,Y),vt=(0,Ee.Z)(ft,1),at=vt[0];ct.current=at;var ht=o.useMemo(function(){if(!ee)return{scrollHeight:void 0,start:0,end:se.length-1,offset:void 0};if(!Pe){var j;return{scrollHeight:((j=_e.current)===null||j===void 0?void 0:j.offsetHeight)||0,start:0,end:se.length-1,offset:void 0}}for(var G=0,fe,we,ut,Jt=se.length,St=0;St<Jt;St+=1){var Qt=se[St],_t=Y(Qt),Ht=de.get(_t),Mt=G+(Ht===void 0?m:Ht);Mt>=Ue&&fe===void 0&&(fe=St,we=G),Mt>Ue+p&&ut===void 0&&(ut=St),G=Mt}return fe===void 0&&(fe=0,we=0,ut=Math.ceil(p/m)),ut===void 0&&(ut=se.length-1),ut=Math.min(ut+1,se.length-1),{scrollHeight:G,start:fe,end:ut,offset:we}},[Pe,ee,Ue,se,Ze,p]),me=ht.scrollHeight,ze=ht.start,Xe=ht.end,ot=ht.offset;dt.current.start=ze,dt.current.end=Xe;var it=o.useState({width:0,height:p}),et=(0,Ee.Z)(it,2),je=et[0],pt=et[1],gt=function(G){pt({width:G.width||G.offsetWidth,height:G.height||G.offsetHeight})},Kt=(0,o.useRef)(),Pt=(0,o.useRef)(),Ft=o.useMemo(function(){return V(je.width,c)},[je.width,c]),Ut=o.useMemo(function(){return V(je.height,me)},[je.height,me]),Zt=me-p,xt=(0,o.useRef)(Zt);xt.current=Zt;function Wt(j){var G=j;return Number.isNaN(xt.current)||(G=Math.min(G,xt.current)),G=Math.max(G,0),G}var Rt=Ue<=0,Tt=Ue>=Zt,Bt=R(Rt,Tt),Ct=function(){return{x:xe?-Re:Re,y:Ue}},Nt=(0,o.useRef)(Ct()),Dt=(0,x.zX)(function(){if($){var j=Ct();(Nt.current.x!==j.x||Nt.current.y!==j.y)&&($(j),Nt.current=j)}});function Ot(j,G){var fe=j;G?((0,Me.flushSync)(function(){be(fe)}),Dt()):qe(fe)}function zt(j){var G=j.currentTarget.scrollTop;G!==Ue&&qe(G),D==null||D(j),Dt()}var kt=function(G){var fe=G,we=c?c-je.width:0;return fe=Math.max(fe,0),fe=Math.min(fe,we),fe},jt=(0,x.zX)(function(j,G){G?((0,Me.flushSync)(function(){be(function(fe){var we=fe+(xe?-j:j);return kt(we)})}),Dt()):qe(function(fe){var we=fe+j;return we})}),Gt=w(ee,Rt,Tt,!!c,jt),Lt=(0,Ee.Z)(Gt,2),bt=Lt[0],It=Lt[1];he(ee,Ae,function(j,G){return Bt(j,G)?!1:(bt({preventDefault:function(){},deltaY:j}),!0)}),(0,B.Z)(function(){function j(fe){ee&&fe.preventDefault()}var G=Ae.current;return G.addEventListener("wheel",bt),G.addEventListener("DOMMouseScroll",It),G.addEventListener("MozMousePixelScroll",j),function(){G.removeEventListener("wheel",bt),G.removeEventListener("DOMMouseScroll",It),G.removeEventListener("MozMousePixelScroll",j)}},[ee]),(0,B.Z)(function(){c&&be(function(j){return kt(j)})},[je.width,c]);var wt=function(){var G,fe;(G=Kt.current)===null||G===void 0||G.delayHidden(),(fe=Pt.current)===null||fe===void 0||fe.delayHidden()},$t=r(Ae,se,de,m,Y,function(){return ie(!0)},qe,wt);o.useImperativeHandle(P,function(){return{getScrollInfo:Ct,scrollTo:function(G){function fe(we){return we&&(0,le.Z)(we)==="object"&&("left"in we||"top"in we)}fe(G)?(G.left!==void 0&&be(kt(G.left)),$t(G.top)):$t(G)}}}),(0,B.Z)(function(){if(E){var j=se.slice(ze,Xe+1);E(j,se)}},[ze,Xe,se]);var Yt=Ce(se,Y,de,m),Vt=Q==null?void 0:Q({start:ze,end:Xe,virtual:Pe,offsetX:Re,offsetY:ot,rtl:xe,getSize:Yt}),Xt=ge(se,ze,Xe,c,ae,t,mt),Et=null;p&&(Et=(0,ce.Z)((0,Ke.Z)({},u?"height":"maxHeight",p),We),ee&&(Et.overflowY="hidden",c&&(Et.overflowX="hidden"),Qe&&(Et.pointerEvents="none")));var At={};return xe&&(At.dir="rtl"),o.createElement("div",(0,Ne.Z)({style:(0,ce.Z)((0,ce.Z)({},M),{},{position:"relative"}),className:Be},At,F),o.createElement(X.Z,{onResize:gt},o.createElement(Z,{className:"".concat(b,"-holder"),style:Et,ref:Ae,onScroll:zt,onMouseEnter:wt},o.createElement(H,{prefixCls:b,height:me,offsetX:Re,offsetY:ot,scrollWidth:c,onInnerResize:ie,ref:_e,innerProps:k,rtl:xe,extra:Vt},Xt))),Pe&&me>p&&o.createElement(ke,{ref:Kt,prefixCls:b,scrollOffset:Ue,scrollRange:me,rtl:xe,onScroll:Ot,onStartMove:yt,onStopMove:lt,spinSize:Ut,containerSize:je.height,style:T==null?void 0:T.verticalScrollBar,thumbStyle:T==null?void 0:T.verticalScrollBarThumb}),Pe&&c>je.width&&o.createElement(ke,{ref:Pt,prefixCls:b,scrollOffset:Re,scrollRange:c,rtl:xe,onScroll:Ot,onStartMove:yt,onStopMove:lt,spinSize:Ft,containerSize:je.width,horizontal:!0,style:T==null?void 0:T.horizontalScrollBar,thumbStyle:T==null?void 0:T.horizontalScrollBarThumb}))}var _=o.forwardRef(Ge);_.displayName="List";var Te=_,$e=Te}}]);
