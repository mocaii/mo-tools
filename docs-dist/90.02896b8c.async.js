"use strict";(self.webpackChunkmo_tools_fe=self.webpackChunkmo_tools_fe||[]).push([[90],{27649:function(st,Ie,h){h.d(Ie,{Z:function(){return L}});var Ne=h(80284),le=h(46060),se=h(28484),Ke=h(68190),Ee=h(90396),F=h(3116),o=h(63089),Me=h(98081),S=h(55250),K=h(84875),X=h.n(K),ae=h(75082),H=h(75271),fe=h(70444),De=function(x){for(var J=x.prefixCls,n=x.level,te=x.isStart,W=x.isEnd,re="".concat(J,"-indent-unit"),l=[],f=0;f<n;f+=1)l.push(H.createElement("span",{key:f,className:X()(re,(0,S.Z)((0,S.Z)({},"".concat(re,"-start"),te[f]),"".concat(re,"-end"),W[f]))}));return H.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},l)},A=H.memo(De),ke=h(37155),de=h(21270),pe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ne="open",s="close",y="---",O=function(B){(0,o.Z)(J,B);var x=(0,Me.Z)(J);function J(){var n;(0,Ke.Z)(this,J);for(var te=arguments.length,W=new Array(te),re=0;re<te;re++)W[re]=arguments[re];return n=x.call.apply(x,[this].concat(W)),(0,S.Z)((0,F.Z)(n),"state",{dragNodeHighlight:!1}),(0,S.Z)((0,F.Z)(n),"selectHandle",void 0),(0,S.Z)((0,F.Z)(n),"cacheIndent",void 0),(0,S.Z)((0,F.Z)(n),"onSelectorClick",function(l){var f=n.props.context.onNodeClick;f(l,(0,de.F)(n.props)),n.isSelectable()?n.onSelect(l):n.onCheck(l)}),(0,S.Z)((0,F.Z)(n),"onSelectorDoubleClick",function(l){var f=n.props.context.onNodeDoubleClick;f(l,(0,de.F)(n.props))}),(0,S.Z)((0,F.Z)(n),"onSelect",function(l){if(!n.isDisabled()){var f=n.props.context.onNodeSelect;f(l,(0,de.F)(n.props))}}),(0,S.Z)((0,F.Z)(n),"onCheck",function(l){if(!n.isDisabled()){var f=n.props,T=f.disableCheckbox,w=f.checked,z=n.props.context.onNodeCheck;if(!(!n.isCheckable()||T)){var ve=!w;z(l,(0,de.F)(n.props),ve)}}}),(0,S.Z)((0,F.Z)(n),"onMouseEnter",function(l){var f=n.props.context.onNodeMouseEnter;f(l,(0,de.F)(n.props))}),(0,S.Z)((0,F.Z)(n),"onMouseLeave",function(l){var f=n.props.context.onNodeMouseLeave;f(l,(0,de.F)(n.props))}),(0,S.Z)((0,F.Z)(n),"onContextMenu",function(l){var f=n.props.context.onNodeContextMenu;f(l,(0,de.F)(n.props))}),(0,S.Z)((0,F.Z)(n),"onDragStart",function(l){var f=n.props.context.onNodeDragStart;l.stopPropagation(),n.setState({dragNodeHighlight:!0}),f(l,(0,F.Z)(n));try{l.dataTransfer.setData("text/plain","")}catch(T){}}),(0,S.Z)((0,F.Z)(n),"onDragEnter",function(l){var f=n.props.context.onNodeDragEnter;l.preventDefault(),l.stopPropagation(),f(l,(0,F.Z)(n))}),(0,S.Z)((0,F.Z)(n),"onDragOver",function(l){var f=n.props.context.onNodeDragOver;l.preventDefault(),l.stopPropagation(),f(l,(0,F.Z)(n))}),(0,S.Z)((0,F.Z)(n),"onDragLeave",function(l){var f=n.props.context.onNodeDragLeave;l.stopPropagation(),f(l,(0,F.Z)(n))}),(0,S.Z)((0,F.Z)(n),"onDragEnd",function(l){var f=n.props.context.onNodeDragEnd;l.stopPropagation(),n.setState({dragNodeHighlight:!1}),f(l,(0,F.Z)(n))}),(0,S.Z)((0,F.Z)(n),"onDrop",function(l){var f=n.props.context.onNodeDrop;l.preventDefault(),l.stopPropagation(),n.setState({dragNodeHighlight:!1}),f(l,(0,F.Z)(n))}),(0,S.Z)((0,F.Z)(n),"onExpand",function(l){var f=n.props,T=f.loading,w=f.context.onNodeExpand;T||w(l,(0,de.F)(n.props))}),(0,S.Z)((0,F.Z)(n),"setSelectHandle",function(l){n.selectHandle=l}),(0,S.Z)((0,F.Z)(n),"getNodeState",function(){var l=n.props.expanded;return n.isLeaf()?null:l?ne:s}),(0,S.Z)((0,F.Z)(n),"hasChildren",function(){var l=n.props.eventKey,f=n.props.context.keyEntities,T=(0,ke.Z)(f,l)||{},w=T.children;return!!(w||[]).length}),(0,S.Z)((0,F.Z)(n),"isLeaf",function(){var l=n.props,f=l.isLeaf,T=l.loaded,w=n.props.context.loadData,z=n.hasChildren();return f===!1?!1:f||!w&&!z||w&&T&&!z}),(0,S.Z)((0,F.Z)(n),"isDisabled",function(){var l=n.props.disabled,f=n.props.context.disabled;return!!(f||l)}),(0,S.Z)((0,F.Z)(n),"isCheckable",function(){var l=n.props.checkable,f=n.props.context.checkable;return!f||l===!1?!1:f}),(0,S.Z)((0,F.Z)(n),"syncLoadData",function(l){var f=l.expanded,T=l.loading,w=l.loaded,z=n.props.context,ve=z.loadData,Se=z.onNodeLoad;T||ve&&f&&!n.isLeaf()&&!n.hasChildren()&&!w&&Se((0,de.F)(n.props))}),(0,S.Z)((0,F.Z)(n),"isDraggable",function(){var l=n.props,f=l.data,T=l.context.draggable;return!!(T&&(!T.nodeDraggable||T.nodeDraggable(f)))}),(0,S.Z)((0,F.Z)(n),"renderDragHandler",function(){var l=n.props.context,f=l.draggable,T=l.prefixCls;return f!=null&&f.icon?H.createElement("span",{className:"".concat(T,"-draggable-icon")},f.icon):null}),(0,S.Z)((0,F.Z)(n),"renderSwitcherIconDom",function(l){var f=n.props.switcherIcon,T=n.props.context.switcherIcon,w=f||T;return typeof w=="function"?w((0,se.Z)((0,se.Z)({},n.props),{},{isLeaf:l})):w}),(0,S.Z)((0,F.Z)(n),"renderSwitcher",function(){var l=n.props.expanded,f=n.props.context.prefixCls;if(n.isLeaf()){var T=n.renderSwitcherIconDom(!0);return T!==!1?H.createElement("span",{className:X()("".concat(f,"-switcher"),"".concat(f,"-switcher-noop"))},T):null}var w=X()("".concat(f,"-switcher"),"".concat(f,"-switcher_").concat(l?ne:s)),z=n.renderSwitcherIconDom(!1);return z!==!1?H.createElement("span",{onClick:n.onExpand,className:w},z):null}),(0,S.Z)((0,F.Z)(n),"renderCheckbox",function(){var l=n.props,f=l.checked,T=l.halfChecked,w=l.disableCheckbox,z=n.props.context.prefixCls,ve=n.isDisabled(),Se=n.isCheckable();if(!Se)return null;var V=typeof Se!="boolean"?Se:null;return H.createElement("span",{className:X()("".concat(z,"-checkbox"),f&&"".concat(z,"-checkbox-checked"),!f&&T&&"".concat(z,"-checkbox-indeterminate"),(ve||w)&&"".concat(z,"-checkbox-disabled")),onClick:n.onCheck},V)}),(0,S.Z)((0,F.Z)(n),"renderIcon",function(){var l=n.props.loading,f=n.props.context.prefixCls;return H.createElement("span",{className:X()("".concat(f,"-iconEle"),"".concat(f,"-icon__").concat(n.getNodeState()||"docu"),l&&"".concat(f,"-icon_loading"))})}),(0,S.Z)((0,F.Z)(n),"renderSelector",function(){var l=n.state.dragNodeHighlight,f=n.props,T=f.title,w=T===void 0?y:T,z=f.selected,ve=f.icon,Se=f.loading,V=f.data,Ce=n.props.context,ge=Ce.prefixCls,He=Ce.showIcon,We=Ce.icon,Ge=Ce.loadData,q=Ce.titleRender,Te=n.isDisabled(),Fe="".concat(ge,"-node-content-wrapper"),v;if(He){var P=ve||We;v=P?H.createElement("span",{className:X()("".concat(ge,"-iconEle"),"".concat(ge,"-icon__customize"))},typeof P=="function"?P(n.props):P):n.renderIcon()}else Ge&&Se&&(v=n.renderIcon());var N;typeof w=="function"?N=w(V):q?N=q(V):N=w;var b=H.createElement("span",{className:"".concat(ge,"-title")},N);return H.createElement("span",{ref:n.setSelectHandle,title:typeof w=="string"?w:"",className:X()("".concat(Fe),"".concat(Fe,"-").concat(n.getNodeState()||"normal"),!Te&&(z||l)&&"".concat(ge,"-node-selected")),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onContextMenu:n.onContextMenu,onClick:n.onSelectorClick,onDoubleClick:n.onSelectorDoubleClick},v,b,n.renderDropIndicator())}),(0,S.Z)((0,F.Z)(n),"renderDropIndicator",function(){var l=n.props,f=l.disabled,T=l.eventKey,w=n.props.context,z=w.draggable,ve=w.dropLevelOffset,Se=w.dropPosition,V=w.prefixCls,Ce=w.indent,ge=w.dropIndicatorRender,He=w.dragOverNodeKey,We=w.direction,Ge=!!z,q=!f&&Ge&&He===T,Te=Ce!=null?Ce:n.cacheIndent;return n.cacheIndent=Ce,q?ge({dropPosition:Se,dropLevelOffset:ve,indent:Te,prefixCls:V,direction:We}):null}),n}return(0,Ee.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var te=this.props.selectable,W=this.props.context.selectable;return typeof te=="boolean"?te:W}},{key:"render",value:function(){var te,W=this.props,re=W.eventKey,l=W.className,f=W.style,T=W.dragOver,w=W.dragOverGapTop,z=W.dragOverGapBottom,ve=W.isLeaf,Se=W.isStart,V=W.isEnd,Ce=W.expanded,ge=W.selected,He=W.checked,We=W.halfChecked,Ge=W.loading,q=W.domRef,Te=W.active,Fe=W.data,v=W.onMouseMove,P=W.selectable,N=(0,le.Z)(W,pe),b=this.props.context,i=b.prefixCls,p=b.filterTreeNode,m=b.keyEntities,e=b.dropContainerKey,c=b.dropTargetKey,M=b.draggingNodeKey,C=this.isDisabled(),t=(0,ae.Z)(N,{aria:!0,data:!0}),a=(0,ke.Z)(m,re)||{},r=a.level,d=V[V.length-1],u=this.isDraggable(),g=!C&&u,Z=M===re,D=P!==void 0?{"aria-selected":!!P}:void 0;return H.createElement("div",(0,Ne.Z)({ref:q,className:X()(l,"".concat(i,"-treenode"),(te={},(0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)(te,"".concat(i,"-treenode-disabled"),C),"".concat(i,"-treenode-switcher-").concat(Ce?"open":"close"),!ve),"".concat(i,"-treenode-checkbox-checked"),He),"".concat(i,"-treenode-checkbox-indeterminate"),We),"".concat(i,"-treenode-selected"),ge),"".concat(i,"-treenode-loading"),Ge),"".concat(i,"-treenode-active"),Te),"".concat(i,"-treenode-leaf-last"),d),"".concat(i,"-treenode-draggable"),u),"dragging",Z),(0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)((0,S.Z)(te,"drop-target",c===re),"drop-container",e===re),"drag-over",!C&&T),"drag-over-gap-top",!C&&w),"drag-over-gap-bottom",!C&&z),"filter-node",p&&p((0,de.F)(this.props))))),style:f,draggable:g,"aria-grabbed":Z,onDragStart:g?this.onDragStart:void 0,onDragEnter:u?this.onDragEnter:void 0,onDragOver:u?this.onDragOver:void 0,onDragLeave:u?this.onDragLeave:void 0,onDrop:u?this.onDrop:void 0,onDragEnd:u?this.onDragEnd:void 0,onMouseMove:v},D,t),H.createElement(A,{prefixCls:i,level:r,isStart:Se,isEnd:V}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(H.Component),I=function(x){return H.createElement(fe.k.Consumer,null,function(J){return H.createElement(O,(0,Ne.Z)({},x,{context:J}))})};I.displayName="TreeNode",I.isTreeNode=1;var L=I},70444:function(st,Ie,h){h.d(Ie,{k:function(){return le}});var Ne=h(75271),le=Ne.createContext(null)},76090:function(st,Ie,h){h.d(Ie,{O:function(){return L.Z},Z:function(){return b}});var Ne=h(80284),le=h(63509),se=h(28484),Ke=h(6399),Ee=h(68190),F=h(90396),o=h(3116),Me=h(63089),S=h(98081),K=h(55250),X=h(84875),ae=h.n(X),H=h(53953),fe=h(75082),De=h(16871),A=h(75271),ke=h(70444);function de(i){var p=i.dropPosition,m=i.dropLevelOffset,e=i.indent,c={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(p){case-1:c.top=0,c.left=-m*e;break;case 1:c.bottom=0,c.left=-m*e;break;case 0:c.bottom=0,c.left=e;break}return A.createElement("div",{style:c})}function pe(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var ne=h(3392),s=h(46060),y=h(69705),O=h(26262),I=h(7540),L=h(27649);function B(i,p){var m=A.useState(!1),e=(0,ne.Z)(m,2),c=e[0],M=e[1];(0,y.Z)(function(){if(c)return i(),function(){p()}},[c]),(0,y.Z)(function(){return M(!0),function(){M(!1)}},[])}var x=h(21270),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],n=function(p,m){var e=p.className,c=p.style,M=p.motion,C=p.motionNodes,t=p.motionType,a=p.onMotionStart,r=p.onMotionEnd,d=p.active,u=p.treeNodeRequiredProps,g=(0,s.Z)(p,J),Z=A.useState(!0),D=(0,ne.Z)(Z,2),$=D[0],E=D[1],k=A.useContext(ke.k),Q=k.prefixCls,R=C&&t!=="hide";(0,y.Z)(function(){C&&R!==$&&E(R)},[C]);var U=function(){C&&a()},j=A.useRef(!1),_=function(){C&&!j.current&&(j.current=!0,r())};B(U,_);var ce=function(he){R===he&&_()};return C?A.createElement(I.ZP,(0,Ne.Z)({ref:m,visible:$},M,{motionAppear:t==="show",onVisibleChanged:ce}),function(ie,he){var ye=ie.className,Ze=ie.style;return A.createElement("div",{ref:he,className:ae()("".concat(Q,"-treenode-motion"),ye),style:Ze},C.map(function(ee){var Oe=Object.assign({},(pe(ee.data),ee.data)),Pe=ee.title,xe=ee.key,Be=ee.isStart,oe=ee.isEnd;delete Oe.children;var $e=(0,x.H8)(xe,u);return A.createElement(L.Z,(0,Ne.Z)({},Oe,$e,{title:Pe,active:d,data:ee.data,key:xe,isStart:Be,isEnd:oe}))}))}):A.createElement(L.Z,(0,Ne.Z)({domRef:m,className:e,style:c},g,{active:d}))};n.displayName="MotionTreeNode";var te=A.forwardRef(n),W=te;function re(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=i.length,e=p.length;if(Math.abs(m-e)!==1)return{add:!1,key:null};function c(M,C){var t=new Map;M.forEach(function(r){t.set(r,!0)});var a=C.filter(function(r){return!t.has(r)});return a.length===1?a[0]:null}return m<e?{add:!0,key:c(i,p)}:{add:!1,key:c(p,i)}}function l(i,p,m){var e=i.findIndex(function(t){return t.key===m}),c=i[e+1],M=p.findIndex(function(t){return t.key===m});if(c){var C=p.findIndex(function(t){return t.key===c.key});return p.slice(M+1,C)}return p.slice(M+1)}var f=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],T={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},w=function(){},z="RC_TREE_MOTION_".concat(Math.random()),ve={key:z},Se={key:z,level:0,index:0,pos:"0",node:ve,nodes:[ve]},V={parent:null,children:[],pos:Se.pos,data:ve,title:null,key:z,isStart:[],isEnd:[]};function Ce(i,p,m,e){return p===!1||!m?i:i.slice(0,Math.ceil(m/e)+1)}function ge(i){var p=i.key,m=i.pos;return(0,x.km)(p,m)}function He(i){for(var p=String(i.data.key),m=i;m.parent;)m=m.parent,p="".concat(m.data.key," > ").concat(p);return p}var We=A.forwardRef(function(i,p){var m=i.prefixCls,e=i.data,c=i.selectable,M=i.checkable,C=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,r=i.loadedKeys,d=i.loadingKeys,u=i.halfCheckedKeys,g=i.keyEntities,Z=i.disabled,D=i.dragging,$=i.dragOverNodeKey,E=i.dropPosition,k=i.motion,Q=i.height,R=i.itemHeight,U=i.virtual,j=i.focusable,_=i.activeItem,ce=i.focused,ie=i.tabIndex,he=i.onKeyDown,ye=i.onFocus,Ze=i.onBlur,ee=i.onActiveChange,Oe=i.onListChangeStart,Pe=i.onListChangeEnd,xe=(0,s.Z)(i,f),Be=A.useRef(null),oe=A.useRef(null);A.useImperativeHandle(p,function(){return{scrollTo:function(ze){Be.current.scrollTo(ze)},getIndentWidth:function(){return oe.current.offsetWidth}}});var $e=A.useState(C),_e=(0,ne.Z)($e,2),tt=_e[0],nt=_e[1],Ue=A.useState(e),Ye=(0,ne.Z)(Ue,2),Le=Ye[0],Ae=Ye[1],Re=A.useState(e),be=(0,ne.Z)(Re,2),Ve=be[0],Je=be[1],Qe=A.useState([]),rt=(0,ne.Z)(Qe,2),yt=rt[0],lt=rt[1],mt=A.useState(null),qe=(0,ne.Z)(mt,2),dt=qe[0],ct=qe[1],ft=A.useRef(e);ft.current=e;function vt(){var me=ft.current;Ae(me),Je(me),lt([]),ct(null),Pe()}(0,y.Z)(function(){nt(C);var me=re(tt,C);if(me.key!==null)if(me.add){var ze=Le.findIndex(function(pt){var gt=pt.key;return gt===me.key}),Xe=Ce(l(Le,e,me.key),U,Q,R),ot=Le.slice();ot.splice(ze+1,0,V),Je(ot),lt(Xe),ct("show")}else{var it=e.findIndex(function(pt){var gt=pt.key;return gt===me.key}),et=Ce(l(e,Le,me.key),U,Q,R),je=e.slice();je.splice(it+1,0,V),Je(je),lt(et),ct("hide")}else Le!==e&&(Ae(e),Je(e))},[C,e]),A.useEffect(function(){D||vt()},[D]);var at=k?Ve:e,ht={expandedKeys:C,selectedKeys:t,loadedKeys:r,loadingKeys:d,checkedKeys:a,halfCheckedKeys:u,dragOverNodeKey:$,dropPosition:E,keyEntities:g};return A.createElement(A.Fragment,null,ce&&_&&A.createElement("span",{style:T,"aria-live":"assertive"},He(_)),A.createElement("div",null,A.createElement("input",{style:T,disabled:j===!1||Z,tabIndex:j!==!1?ie:null,onKeyDown:he,onFocus:ye,onBlur:Ze,value:"",onChange:w,"aria-label":"for screen reader"})),A.createElement("div",{className:"".concat(m,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},A.createElement("div",{className:"".concat(m,"-indent")},A.createElement("div",{ref:oe,className:"".concat(m,"-indent-unit")}))),A.createElement(O.Z,(0,Ne.Z)({},xe,{data:at,itemKey:ge,height:Q,fullHeight:!1,virtual:U,itemHeight:R,prefixCls:"".concat(m,"-list"),ref:Be,onVisibleChange:function(ze,Xe){var ot=new Set(ze),it=Xe.filter(function(et){return!ot.has(et)});it.some(function(et){return ge(et)===z})&&vt()}}),function(me){var ze=me.pos,Xe=Object.assign({},(pe(me.data),me.data)),ot=me.title,it=me.key,et=me.isStart,je=me.isEnd,pt=(0,x.km)(it,ze);delete Xe.key,delete Xe.children;var gt=(0,x.H8)(pt,ht);return A.createElement(W,(0,Ne.Z)({},Xe,gt,{title:ot,active:!!_&&it===_.key,pos:ze,data:me.data,isStart:et,isEnd:je,motion:k,motionNodes:it===z?yt:null,motionType:dt,onMotionStart:Oe,onMotionEnd:vt,treeNodeRequiredProps:ht,onMouseMove:function(){ee(null)}}))}))});We.displayName="NodeList";var Ge=We,q=h(9682),Te=h(44843),Fe=h(37155),v=10,P=function(i){(0,Me.Z)(m,i);var p=(0,S.Z)(m);function m(){var e;(0,Ee.Z)(this,m);for(var c=arguments.length,M=new Array(c),C=0;C<c;C++)M[C]=arguments[C];return e=p.call.apply(p,[this].concat(M)),(0,K.Z)((0,o.Z)(e),"destroyed",!1),(0,K.Z)((0,o.Z)(e),"delayedDragEnterLogic",void 0),(0,K.Z)((0,o.Z)(e),"loadingRetryTimes",{}),(0,K.Z)((0,o.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,x.w$)()}),(0,K.Z)((0,o.Z)(e),"dragStartMousePosition",null),(0,K.Z)((0,o.Z)(e),"dragNode",void 0),(0,K.Z)((0,o.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,K.Z)((0,o.Z)(e),"listRef",A.createRef()),(0,K.Z)((0,o.Z)(e),"onNodeDragStart",function(t,a){var r=e.state,d=r.expandedKeys,u=r.keyEntities,g=e.props.onDragStart,Z=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var D=(0,q._5)(d,Z);e.setState({draggingNodeKey:Z,dragChildrenKeys:(0,q.wA)(Z,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(D),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,x.F)(a.props)})}),(0,K.Z)((0,o.Z)(e),"onNodeDragEnter",function(t,a){var r=e.state,d=r.expandedKeys,u=r.keyEntities,g=r.dragChildrenKeys,Z=r.flattenNodes,D=r.indent,$=e.props,E=$.onDragEnter,k=$.onExpand,Q=$.allowDrop,R=$.direction,U=a.props,j=U.pos,_=U.eventKey,ce=(0,o.Z)(e),ie=ce.dragNode;if(e.currentMouseOverDroppableNodeKey!==_&&(e.currentMouseOverDroppableNodeKey=_),!ie){e.resetDragState();return}var he=(0,q.OM)(t,ie,a,D,e.dragStartMousePosition,Q,Z,u,d,R),ye=he.dropPosition,Ze=he.dropLevelOffset,ee=he.dropTargetKey,Oe=he.dropContainerKey,Pe=he.dropTargetPos,xe=he.dropAllowed,Be=he.dragOverNodeKey;if(g.indexOf(ee)!==-1||!xe){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(oe){clearTimeout(e.delayedDragEnterLogic[oe])}),ie.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[j]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var oe=(0,Ke.Z)(d),$e=(0,Fe.Z)(u,a.props.eventKey);$e&&($e.children||[]).length&&(oe=(0,q.L0)(d,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(oe),k==null||k(oe,{node:(0,x.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),ie.props.eventKey===ee&&Ze===0){e.resetDragState();return}e.setState({dragOverNodeKey:Be,dropPosition:ye,dropLevelOffset:Ze,dropTargetKey:ee,dropContainerKey:Oe,dropTargetPos:Pe,dropAllowed:xe}),E==null||E({event:t,node:(0,x.F)(a.props),expandedKeys:d})}),(0,K.Z)((0,o.Z)(e),"onNodeDragOver",function(t,a){var r=e.state,d=r.dragChildrenKeys,u=r.flattenNodes,g=r.keyEntities,Z=r.expandedKeys,D=r.indent,$=e.props,E=$.onDragOver,k=$.allowDrop,Q=$.direction,R=(0,o.Z)(e),U=R.dragNode;if(U){var j=(0,q.OM)(t,U,a,D,e.dragStartMousePosition,k,u,g,Z,Q),_=j.dropPosition,ce=j.dropLevelOffset,ie=j.dropTargetKey,he=j.dropContainerKey,ye=j.dropAllowed,Ze=j.dropTargetPos,ee=j.dragOverNodeKey;d.indexOf(ie)!==-1||!ye||(U.props.eventKey===ie&&ce===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():_===e.state.dropPosition&&ce===e.state.dropLevelOffset&&ie===e.state.dropTargetKey&&he===e.state.dropContainerKey&&Ze===e.state.dropTargetPos&&ye===e.state.dropAllowed&&ee===e.state.dragOverNodeKey||e.setState({dropPosition:_,dropLevelOffset:ce,dropTargetKey:ie,dropContainerKey:he,dropTargetPos:Ze,dropAllowed:ye,dragOverNodeKey:ee}),E==null||E({event:t,node:(0,x.F)(a.props)}))}}),(0,K.Z)((0,o.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:(0,x.F)(a.props)})}),(0,K.Z)((0,o.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,K.Z)((0,o.Z)(e),"onNodeDragEnd",function(t,a){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:(0,x.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,K.Z)((0,o.Z)(e),"onNodeDrop",function(t,a){var r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,g=u.dragChildrenKeys,Z=u.dropPosition,D=u.dropTargetKey,$=u.dropTargetPos,E=u.dropAllowed;if(E){var k=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),D!==null){var Q=(0,se.Z)((0,se.Z)({},(0,x.H8)(D,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===D,data:(0,Fe.Z)(e.state.keyEntities,D).node}),R=g.indexOf(D)!==-1;(0,De.ZP)(!R,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var U=(0,q.yx)($),j={event:t,node:(0,x.F)(Q),dragNode:e.dragNode?(0,x.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:Z!==0,dropPosition:Z+Number(U[U.length-1])};d||k==null||k(j),e.dragNode=null}}}),(0,K.Z)((0,o.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,K.Z)((0,o.Z)(e),"triggerExpandActionExpand",function(t,a){var r=e.state,d=r.expandedKeys,u=r.flattenNodes,g=a.expanded,Z=a.key,D=a.isLeaf;if(!(D||t.shiftKey||t.metaKey||t.ctrlKey)){var $=u.filter(function(k){return k.key===Z})[0],E=(0,x.F)((0,se.Z)((0,se.Z)({},(0,x.H8)(Z,e.getTreeNodeRequiredProps())),{},{data:$.data}));e.setExpandedKeys(g?(0,q._5)(d,Z):(0,q.L0)(d,Z)),e.onNodeExpand(t,E)}}),(0,K.Z)((0,o.Z)(e),"onNodeClick",function(t,a){var r=e.props,d=r.onClick,u=r.expandAction;u==="click"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,K.Z)((0,o.Z)(e),"onNodeDoubleClick",function(t,a){var r=e.props,d=r.onDoubleClick,u=r.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,K.Z)((0,o.Z)(e),"onNodeSelect",function(t,a){var r=e.state.selectedKeys,d=e.state,u=d.keyEntities,g=d.fieldNames,Z=e.props,D=Z.onSelect,$=Z.multiple,E=a.selected,k=a[g.key],Q=!E;Q?$?r=(0,q.L0)(r,k):r=[k]:r=(0,q._5)(r,k);var R=r.map(function(U){var j=(0,Fe.Z)(u,U);return j?j.node:null}).filter(function(U){return U});e.setUncontrolledState({selectedKeys:r}),D==null||D(r,{event:"select",selected:Q,node:a,selectedNodes:R,nativeEvent:t.nativeEvent})}),(0,K.Z)((0,o.Z)(e),"onNodeCheck",function(t,a,r){var d=e.state,u=d.keyEntities,g=d.checkedKeys,Z=d.halfCheckedKeys,D=e.props,$=D.checkStrictly,E=D.onCheck,k=a.key,Q,R={event:"check",node:a,checked:r,nativeEvent:t.nativeEvent};if($){var U=r?(0,q.L0)(g,k):(0,q._5)(g,k),j=(0,q._5)(Z,k);Q={checked:U,halfChecked:j},R.checkedNodes=U.map(function(Ze){return(0,Fe.Z)(u,Ze)}).filter(function(Ze){return Ze}).map(function(Ze){return Ze.node}),e.setUncontrolledState({checkedKeys:U})}else{var _=(0,Te.S)([].concat((0,Ke.Z)(g),[k]),!0,u),ce=_.checkedKeys,ie=_.halfCheckedKeys;if(!r){var he=new Set(ce);he.delete(k);var ye=(0,Te.S)(Array.from(he),{checked:!1,halfCheckedKeys:ie},u);ce=ye.checkedKeys,ie=ye.halfCheckedKeys}Q=ce,R.checkedNodes=[],R.checkedNodesPositions=[],R.halfCheckedKeys=ie,ce.forEach(function(Ze){var ee=(0,Fe.Z)(u,Ze);if(ee){var Oe=ee.node,Pe=ee.pos;R.checkedNodes.push(Oe),R.checkedNodesPositions.push({node:Oe,pos:Pe})}}),e.setUncontrolledState({checkedKeys:ce},!1,{halfCheckedKeys:ie})}E==null||E(Q,R)}),(0,K.Z)((0,o.Z)(e),"onNodeLoad",function(t){var a=t.key,r=new Promise(function(d,u){e.setState(function(g){var Z=g.loadedKeys,D=Z===void 0?[]:Z,$=g.loadingKeys,E=$===void 0?[]:$,k=e.props,Q=k.loadData,R=k.onLoad;if(!Q||D.indexOf(a)!==-1||E.indexOf(a)!==-1)return null;var U=Q(t);return U.then(function(){var j=e.state.loadedKeys,_=(0,q.L0)(j,a);R==null||R(_,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:_}),e.setState(function(ce){return{loadingKeys:(0,q._5)(ce.loadingKeys,a)}}),d()}).catch(function(j){if(e.setState(function(ce){return{loadingKeys:(0,q._5)(ce.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=v){var _=e.state.loadedKeys;(0,De.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,q.L0)(_,a)}),d()}u(j)}),{loadingKeys:(0,q.L0)(E,a)}})});return r.catch(function(){}),r}),(0,K.Z)((0,o.Z)(e),"onNodeMouseEnter",function(t,a){var r=e.props.onMouseEnter;r==null||r({event:t,node:a})}),(0,K.Z)((0,o.Z)(e),"onNodeMouseLeave",function(t,a){var r=e.props.onMouseLeave;r==null||r({event:t,node:a})}),(0,K.Z)((0,o.Z)(e),"onNodeContextMenu",function(t,a){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:a}))}),(0,K.Z)((0,o.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];t==null||t.apply(void 0,r)}),(0,K.Z)((0,o.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];t==null||t.apply(void 0,r)}),(0,K.Z)((0,o.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,r=t.selectedKeys,d=t.loadedKeys,u=t.loadingKeys,g=t.checkedKeys,Z=t.halfCheckedKeys,D=t.dragOverNodeKey,$=t.dropPosition,E=t.keyEntities;return{expandedKeys:a||[],selectedKeys:r||[],loadedKeys:d||[],loadingKeys:u||[],checkedKeys:g||[],halfCheckedKeys:Z||[],dragOverNodeKey:D,dropPosition:$,keyEntities:E}}),(0,K.Z)((0,o.Z)(e),"setExpandedKeys",function(t){var a=e.state,r=a.treeData,d=a.fieldNames,u=(0,x.oH)(r,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:u},!0)}),(0,K.Z)((0,o.Z)(e),"onNodeExpand",function(t,a){var r=e.state.expandedKeys,d=e.state,u=d.listChanging,g=d.fieldNames,Z=e.props,D=Z.onExpand,$=Z.loadData,E=a.expanded,k=a[g.key];if(!u){var Q=r.indexOf(k),R=!E;if((0,De.ZP)(E&&Q!==-1||!E&&Q===-1,"Expand state not sync with index check"),R?r=(0,q.L0)(r,k):r=(0,q._5)(r,k),e.setExpandedKeys(r),D==null||D(r,{node:a,expanded:R,nativeEvent:t.nativeEvent}),R&&$){var U=e.onNodeLoad(a);U&&U.then(function(){var j=(0,x.oH)(e.state.treeData,r,g);e.setUncontrolledState({flattenNodes:j})}).catch(function(){var j=e.state.expandedKeys,_=(0,q._5)(j,k);e.setExpandedKeys(_)})}}}),(0,K.Z)((0,o.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,K.Z)((0,o.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,K.Z)((0,o.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,r=e.props,d=r.onActiveChange,u=r.itemScrollOffset,g=u===void 0?0:u;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:g}),d==null||d(t))}),(0,K.Z)((0,o.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,r=t.flattenNodes;return a===null?null:r.find(function(d){var u=d.key;return u===a})||null}),(0,K.Z)((0,o.Z)(e),"offsetActiveKey",function(t){var a=e.state,r=a.flattenNodes,d=a.activeKey,u=r.findIndex(function(D){var $=D.key;return $===d});u===-1&&t<0&&(u=r.length),u=(u+t+r.length)%r.length;var g=r[u];if(g){var Z=g.key;e.onActiveChange(Z)}else e.onActiveChange(null)}),(0,K.Z)((0,o.Z)(e),"onKeyDown",function(t){var a=e.state,r=a.activeKey,d=a.expandedKeys,u=a.checkedKeys,g=a.fieldNames,Z=e.props,D=Z.onKeyDown,$=Z.checkable,E=Z.selectable;switch(t.which){case H.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case H.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var k=e.getActiveItem();if(k&&k.data){var Q=e.getTreeNodeRequiredProps(),R=k.data.isLeaf===!1||!!(k.data[g.children]||[]).length,U=(0,x.F)((0,se.Z)((0,se.Z)({},(0,x.H8)(r,Q)),{},{data:k.data,active:!0}));switch(t.which){case H.Z.LEFT:{R&&d.includes(r)?e.onNodeExpand({},U):k.parent&&e.onActiveChange(k.parent.key),t.preventDefault();break}case H.Z.RIGHT:{R&&!d.includes(r)?e.onNodeExpand({},U):k.children&&k.children.length&&e.onActiveChange(k.children[0].key),t.preventDefault();break}case H.Z.ENTER:case H.Z.SPACE:{$&&!U.disabled&&U.checkable!==!1&&!U.disableCheckbox?e.onNodeCheck({},U,!u.includes(r)):!$&&E&&!U.disabled&&U.selectable!==!1&&e.onNodeSelect({},U);break}}}D==null||D(t)}),(0,K.Z)((0,o.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,u=!0,g={};Object.keys(t).forEach(function(Z){if(Z in e.props){u=!1;return}d=!0,g[Z]=t[Z]}),d&&(!a||u)&&e.setState((0,se.Z)((0,se.Z)({},g),r))}}),(0,K.Z)((0,o.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,F.Z)(m,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var c=this.props,M=c.activeKey,C=c.itemScrollOffset,t=C===void 0?0:C;M!==void 0&&M!==this.state.activeKey&&(this.setState({activeKey:M}),M!==null&&this.scrollTo({key:M,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var c=this.state,M=c.focused,C=c.flattenNodes,t=c.keyEntities,a=c.draggingNodeKey,r=c.activeKey,d=c.dropLevelOffset,u=c.dropContainerKey,g=c.dropTargetKey,Z=c.dropPosition,D=c.dragOverNodeKey,$=c.indent,E=this.props,k=E.prefixCls,Q=E.className,R=E.style,U=E.showLine,j=E.focusable,_=E.tabIndex,ce=_===void 0?0:_,ie=E.selectable,he=E.showIcon,ye=E.icon,Ze=E.switcherIcon,ee=E.draggable,Oe=E.checkable,Pe=E.checkStrictly,xe=E.disabled,Be=E.motion,oe=E.loadData,$e=E.filterTreeNode,_e=E.height,tt=E.itemHeight,nt=E.virtual,Ue=E.titleRender,Ye=E.dropIndicatorRender,Le=E.onContextMenu,Ae=E.onScroll,Re=E.direction,be=E.rootClassName,Ve=E.rootStyle,Je=(0,fe.Z)(this.props,{aria:!0,data:!0}),Qe;return ee&&((0,le.Z)(ee)==="object"?Qe=ee:typeof ee=="function"?Qe={nodeDraggable:ee}:Qe={}),A.createElement(ke.k.Provider,{value:{prefixCls:k,selectable:ie,showIcon:he,icon:ye,switcherIcon:Ze,draggable:Qe,draggingNodeKey:a,checkable:Oe,checkStrictly:Pe,disabled:xe,keyEntities:t,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:g,dropPosition:Z,dragOverNodeKey:D,indent:$,direction:Re,dropIndicatorRender:Ye,loadData:oe,filterTreeNode:$e,titleRender:Ue,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},A.createElement("div",{role:"tree",className:ae()(k,Q,be,(0,K.Z)((0,K.Z)((0,K.Z)({},"".concat(k,"-show-line"),U),"".concat(k,"-focused"),M),"".concat(k,"-active-focused"),r!==null)),style:Ve},A.createElement(Ge,(0,Ne.Z)({ref:this.listRef,prefixCls:k,style:R,data:C,disabled:xe,selectable:ie,checkable:!!Oe,motion:Be,dragging:a!==null,height:_e,itemHeight:tt,virtual:nt,focusable:j,focused:M,tabIndex:ce,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Le,onScroll:Ae},this.getTreeNodeRequiredProps(),Je))))}}],[{key:"getDerivedStateFromProps",value:function(c,M){var C=M.prevProps,t={prevProps:c};function a(_){return!C&&_ in c||C&&C[_]!==c[_]}var r,d=M.fieldNames;if(a("fieldNames")&&(d=(0,x.w$)(c.fieldNames),t.fieldNames=d),a("treeData")?r=c.treeData:a("children")&&((0,De.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,x.zn)(c.children)),r){t.treeData=r;var u=(0,x.I8)(r,{fieldNames:d});t.keyEntities=(0,se.Z)((0,K.Z)({},z,Se),u.keyEntities)}var g=t.keyEntities||M.keyEntities;if(a("expandedKeys")||C&&a("autoExpandParent"))t.expandedKeys=c.autoExpandParent||!C&&c.defaultExpandParent?(0,q.r7)(c.expandedKeys,g):c.expandedKeys;else if(!C&&c.defaultExpandAll){var Z=(0,se.Z)({},g);delete Z[z],t.expandedKeys=Object.keys(Z).map(function(_){return Z[_].key})}else!C&&c.defaultExpandedKeys&&(t.expandedKeys=c.autoExpandParent||c.defaultExpandParent?(0,q.r7)(c.defaultExpandedKeys,g):c.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var D=(0,x.oH)(r||M.treeData,t.expandedKeys||M.expandedKeys,d);t.flattenNodes=D}if(c.selectable&&(a("selectedKeys")?t.selectedKeys=(0,q.BT)(c.selectedKeys,c):!C&&c.defaultSelectedKeys&&(t.selectedKeys=(0,q.BT)(c.defaultSelectedKeys,c))),c.checkable){var $;if(a("checkedKeys")?$=(0,q.E6)(c.checkedKeys)||{}:!C&&c.defaultCheckedKeys?$=(0,q.E6)(c.defaultCheckedKeys)||{}:r&&($=(0,q.E6)(c.checkedKeys)||{checkedKeys:M.checkedKeys,halfCheckedKeys:M.halfCheckedKeys}),$){var E=$,k=E.checkedKeys,Q=k===void 0?[]:k,R=E.halfCheckedKeys,U=R===void 0?[]:R;if(!c.checkStrictly){var j=(0,Te.S)(Q,!0,g);Q=j.checkedKeys,U=j.halfCheckedKeys}t.checkedKeys=Q,t.halfCheckedKeys=U}}return a("loadedKeys")&&(t.loadedKeys=c.loadedKeys),t}}]),m}(A.Component);(0,K.Z)(P,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:de,allowDrop:function(){return!0},expandAction:!1}),(0,K.Z)(P,"TreeNode",L.Z);var N=P,b=N},9682:function(st,Ie,h){h.d(Ie,{BT:function(){return A},E6:function(){return pe},L0:function(){return K},OM:function(){return De},_5:function(){return S},r7:function(){return ne},wA:function(){return ae},yx:function(){return X}});var Ne=h(6399),le=h(63509),se=h(16871),Ke=h(75271),Ee=h(27649),F=h(37155),o=h(21270),Me=null;function S(s,y){if(!s)return[];var O=s.slice(),I=O.indexOf(y);return I>=0&&O.splice(I,1),O}function K(s,y){var O=(s||[]).slice();return O.indexOf(y)===-1&&O.push(y),O}function X(s){return s.split("-")}function ae(s,y){var O=[],I=(0,F.Z)(y,s);function L(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];B.forEach(function(x){var J=x.key,n=x.children;O.push(J),L(n)})}return L(I.children),O}function H(s){if(s.parent){var y=X(s.pos);return Number(y[y.length-1])===s.parent.children.length-1}return!1}function fe(s){var y=X(s.pos);return Number(y[y.length-1])===0}function De(s,y,O,I,L,B,x,J,n,te){var W,re=s.clientX,l=s.clientY,f=s.target.getBoundingClientRect(),T=f.top,w=f.height,z=(te==="rtl"?-1:1)*(((L==null?void 0:L.x)||0)-re),ve=(z-12)/I,Se=n.filter(function(i){var p;return(p=J[i])===null||p===void 0||(p=p.children)===null||p===void 0?void 0:p.length}),V=(0,F.Z)(J,O.props.eventKey);if(l<T+w/2){var Ce=x.findIndex(function(i){return i.key===V.key}),ge=Ce<=0?0:Ce-1,He=x[ge].key;V=(0,F.Z)(J,He)}var We=V.key,Ge=V,q=V.key,Te=0,Fe=0;if(!Se.includes(We))for(var v=0;v<ve&&H(V);v+=1)V=V.parent,Fe+=1;var P=y.props.data,N=V.node,b=!0;return fe(V)&&V.level===0&&l<T+w/2&&B({dragNode:P,dropNode:N,dropPosition:-1})&&V.key===O.props.eventKey?Te=-1:(Ge.children||[]).length&&Se.includes(q)?B({dragNode:P,dropNode:N,dropPosition:0})?Te=0:b=!1:Fe===0?ve>-1.5?B({dragNode:P,dropNode:N,dropPosition:1})?Te=1:b=!1:B({dragNode:P,dropNode:N,dropPosition:0})?Te=0:B({dragNode:P,dropNode:N,dropPosition:1})?Te=1:b=!1:B({dragNode:P,dropNode:N,dropPosition:1})?Te=1:b=!1,{dropPosition:Te,dropLevelOffset:Fe,dropTargetKey:V.key,dropTargetPos:V.pos,dragOverNodeKey:q,dropContainerKey:Te===0?null:((W=V.parent)===null||W===void 0?void 0:W.key)||null,dropAllowed:b}}function A(s,y){if(s){var O=y.multiple;return O?s.slice():s.length?[s[0]]:s}}var ke=function(y){return y};function de(s,y){if(!s)return[];var O=y||{},I=O.processProps,L=I===void 0?ke:I,B=Array.isArray(s)?s:[s];return B.map(function(x){var J=x.children,n=_objectWithoutProperties(x,Me),te=de(J,y);return React.createElement(TreeNode,_extends({key:n.key},L(n)),te)})}function pe(s){if(!s)return null;var y;if(Array.isArray(s))y={checkedKeys:s,halfCheckedKeys:void 0};else if((0,le.Z)(s)==="object")y={checkedKeys:s.checked||void 0,halfCheckedKeys:s.halfChecked||void 0};else return(0,se.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return y}function ne(s,y){var O=new Set;function I(L){if(!O.has(L)){var B=(0,F.Z)(y,L);if(B){O.add(L);var x=B.parent,J=B.node;J.disabled||x&&I(x.key)}}}return(s||[]).forEach(function(L){I(L)}),(0,Ne.Z)(O)}},44843:function(st,Ie,h){h.d(Ie,{S:function(){return o}});var Ne=h(16871),le=h(37155);function se(Me,S){var K=new Set;return Me.forEach(function(X){S.has(X)||K.add(X)}),K}function Ke(Me){var S=Me||{},K=S.disabled,X=S.disableCheckbox,ae=S.checkable;return!!(K||X)||ae===!1}function Ee(Me,S,K,X){for(var ae=new Set(Me),H=new Set,fe=0;fe<=K;fe+=1){var De=S.get(fe)||new Set;De.forEach(function(pe){var ne=pe.key,s=pe.node,y=pe.children,O=y===void 0?[]:y;ae.has(ne)&&!X(s)&&O.filter(function(I){return!X(I.node)}).forEach(function(I){ae.add(I.key)})})}for(var A=new Set,ke=K;ke>=0;ke-=1){var de=S.get(ke)||new Set;de.forEach(function(pe){var ne=pe.parent,s=pe.node;if(!(X(s)||!pe.parent||A.has(pe.parent.key))){if(X(pe.parent.node)){A.add(ne.key);return}var y=!0,O=!1;(ne.children||[]).filter(function(I){return!X(I.node)}).forEach(function(I){var L=I.key,B=ae.has(L);y&&!B&&(y=!1),!O&&(B||H.has(L))&&(O=!0)}),y&&ae.add(ne.key),O&&H.add(ne.key),A.add(ne.key)}})}return{checkedKeys:Array.from(ae),halfCheckedKeys:Array.from(se(H,ae))}}function F(Me,S,K,X,ae){for(var H=new Set(Me),fe=new Set(S),De=0;De<=X;De+=1){var A=K.get(De)||new Set;A.forEach(function(ne){var s=ne.key,y=ne.node,O=ne.children,I=O===void 0?[]:O;!H.has(s)&&!fe.has(s)&&!ae(y)&&I.filter(function(L){return!ae(L.node)}).forEach(function(L){H.delete(L.key)})})}fe=new Set;for(var ke=new Set,de=X;de>=0;de-=1){var pe=K.get(de)||new Set;pe.forEach(function(ne){var s=ne.parent,y=ne.node;if(!(ae(y)||!ne.parent||ke.has(ne.parent.key))){if(ae(ne.parent.node)){ke.add(s.key);return}var O=!0,I=!1;(s.children||[]).filter(function(L){return!ae(L.node)}).forEach(function(L){var B=L.key,x=H.has(B);O&&!x&&(O=!1),!I&&(x||fe.has(B))&&(I=!0)}),O||H.delete(s.key),I&&fe.add(s.key),ke.add(s.key)}})}return{checkedKeys:Array.from(H),halfCheckedKeys:Array.from(se(fe,H))}}function o(Me,S,K,X){var ae=[],H;X?H=X:H=Ke;var fe=new Set(Me.filter(function(de){var pe=!!(0,le.Z)(K,de);return pe||ae.push(de),pe})),De=new Map,A=0;Object.keys(K).forEach(function(de){var pe=K[de],ne=pe.level,s=De.get(ne);s||(s=new Set,De.set(ne,s)),s.add(pe),A=Math.max(A,ne)}),(0,Ne.ZP)(!ae.length,"Tree missing follow keys: ".concat(ae.slice(0,100).map(function(de){return"'".concat(de,"'")}).join(", ")));var ke;return S===!0?ke=Ee(fe,De,A,H):ke=F(fe,S.halfCheckedKeys,De,A,H),ke}},37155:function(st,Ie,h){h.d(Ie,{Z:function(){return Ne}});function Ne(le,se){return le[se]}},21270:function(st,Ie,h){h.d(Ie,{F:function(){return ne},H8:function(){return pe},I8:function(){return de},km:function(){return ae},oH:function(){return A},w$:function(){return H},zn:function(){return De}});var Ne=h(63509),le=h(6399),se=h(28484),Ke=h(46060),Ee=h(83790),F=h(42667),o=h(16871),Me=h(37155),S=["children"];function K(s,y){return"".concat(s,"-").concat(y)}function X(s){return s&&s.type&&s.type.isTreeNode}function ae(s,y){return s!=null?s:y}function H(s){var y=s||{},O=y.title,I=y._title,L=y.key,B=y.children,x=O||"title";return{title:x,_title:I||[x],key:L||"key",children:B||"children"}}function fe(s,y){var O=new Map;function I(L){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(L||[]).forEach(function(x){var J=x[y.key],n=x[y.children];warning(J!=null,"Tree node must have a certain key: [".concat(B).concat(J,"]"));var te=String(J);warning(!O.has(te)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(te)),O.set(te,!0),I(n,"".concat(B).concat(te," > "))})}I(s)}function De(s){function y(O){var I=(0,Ee.Z)(O);return I.map(function(L){if(!X(L))return(0,o.ZP)(!L,"Tree/TreeNode can only accept TreeNode as children."),null;var B=L.key,x=L.props,J=x.children,n=(0,Ke.Z)(x,S),te=(0,se.Z)({key:B},n),W=y(J);return W.length&&(te.children=W),te}).filter(function(L){return L})}return y(s)}function A(s,y,O){var I=H(O),L=I._title,B=I.key,x=I.children,J=new Set(y===!0?[]:y),n=[];function te(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return W.map(function(l,f){for(var T=K(re?re.pos:"0",f),w=ae(l[B],T),z,ve=0;ve<L.length;ve+=1){var Se=L[ve];if(l[Se]!==void 0){z=l[Se];break}}var V=(0,se.Z)((0,se.Z)({},(0,F.Z)(l,[].concat((0,le.Z)(L),[B,x]))),{},{title:z,key:w,parent:re,pos:T,children:null,data:l,isStart:[].concat((0,le.Z)(re?re.isStart:[]),[f===0]),isEnd:[].concat((0,le.Z)(re?re.isEnd:[]),[f===W.length-1])});return n.push(V),y===!0||J.has(w)?V.children=te(l[x]||[],V):V.children=[],V})}return te(s),n}function ke(s,y,O){var I={};(0,Ne.Z)(O)==="object"?I=O:I={externalGetKey:O},I=I||{};var L=I,B=L.childrenPropName,x=L.externalGetKey,J=L.fieldNames,n=H(J),te=n.key,W=n.children,re=B||W,l;x?typeof x=="string"?l=function(w){return w[x]}:typeof x=="function"&&(l=function(w){return x(w)}):l=function(w,z){return ae(w[te],z)};function f(T,w,z,ve){var Se=T?T[re]:s,V=T?K(z.pos,w):"0",Ce=T?[].concat((0,le.Z)(ve),[T]):[];if(T){var ge=l(T,V),He={node:T,index:w,pos:V,key:ge,parentPos:z.node?z.pos:null,level:z.level+1,nodes:Ce};y(He)}Se&&Se.forEach(function(We,Ge){f(We,Ge,{node:T,pos:V,level:z?z.level+1:-1},Ce)})}f(null)}function de(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=y.initWrapper,I=y.processEntity,L=y.onProcessFinished,B=y.externalGetKey,x=y.childrenPropName,J=y.fieldNames,n=arguments.length>2?arguments[2]:void 0,te=B||n,W={},re={},l={posEntities:W,keyEntities:re};return O&&(l=O(l)||l),ke(s,function(f){var T=f.node,w=f.index,z=f.pos,ve=f.key,Se=f.parentPos,V=f.level,Ce=f.nodes,ge={node:T,nodes:Ce,index:w,key:ve,pos:z,level:V},He=ae(ve,z);W[z]=ge,re[He]=ge,ge.parent=W[Se],ge.parent&&(ge.parent.children=ge.parent.children||[],ge.parent.children.push(ge)),I&&I(ge,l)},{externalGetKey:te,childrenPropName:x,fieldNames:J}),L&&L(l),l}function pe(s,y){var O=y.expandedKeys,I=y.selectedKeys,L=y.loadedKeys,B=y.loadingKeys,x=y.checkedKeys,J=y.halfCheckedKeys,n=y.dragOverNodeKey,te=y.dropPosition,W=y.keyEntities,re=(0,Me.Z)(W,s),l={eventKey:s,expanded:O.indexOf(s)!==-1,selected:I.indexOf(s)!==-1,loaded:L.indexOf(s)!==-1,loading:B.indexOf(s)!==-1,checked:x.indexOf(s)!==-1,halfChecked:J.indexOf(s)!==-1,pos:String(re?re.pos:""),dragOver:n===s&&te===0,dragOverGapTop:n===s&&te===-1,dragOverGapBottom:n===s&&te===1};return l}function ne(s){var y=s.data,O=s.expanded,I=s.selected,L=s.checked,B=s.loaded,x=s.loading,J=s.halfChecked,n=s.dragOver,te=s.dragOverGapTop,W=s.dragOverGapBottom,re=s.pos,l=s.active,f=s.eventKey,T=(0,se.Z)((0,se.Z)({},y),{},{expanded:O,selected:I,checked:L,loaded:B,loading:x,halfChecked:J,dragOver:n,dragOverGapTop:te,dragOverGapBottom:W,pos:re,active:l,key:f});return"props"in T||Object.defineProperty(T,"props",{get:function(){return(0,o.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),s}}),T}},75082:function(st,Ie,h){h.d(Ie,{Z:function(){return Me}});var Ne=h(28484),le=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,se=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Ke="".concat(le," ").concat(se).split(/[\s\n]+/),Ee="aria-",F="data-";function o(S,K){return S.indexOf(K)===0}function Me(S){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X;K===!1?X={aria:!0,data:!0,attr:!0}:K===!0?X={aria:!0}:X=(0,Ne.Z)({},K);var ae={};return Object.keys(S).forEach(function(H){(X.aria&&(H==="role"||o(H,Ee))||X.data&&o(H,F)||X.attr&&Ke.includes(H))&&(ae[H]=S[H])}),ae}},26262:function(st,Ie,h){h.d(Ie,{Z:function(){return Fe}});var Ne=h(80284),le=h(28484),se=h(63509),Ke=h(55250),Ee=h(3392),F=h(46060),o=h(75271),Me=h(30967),S=h(84875),K=h.n(S),X=h(34010),ae=o.forwardRef(function(v,P){var N=v.height,b=v.offsetY,i=v.offsetX,p=v.children,m=v.prefixCls,e=v.onInnerResize,c=v.innerProps,M=v.rtl,C=v.extra,t={},a={display:"flex",flexDirection:"column"};return b!==void 0&&(t={height:N,position:"relative",overflow:"hidden"},a=(0,le.Z)((0,le.Z)({},a),{},(0,Ke.Z)((0,Ke.Z)((0,Ke.Z)((0,Ke.Z)((0,Ke.Z)({transform:"translateY(".concat(b,"px)")},M?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:t},o.createElement(X.Z,{onResize:function(d){var u=d.offsetHeight;u&&e&&e()}},o.createElement("div",(0,Ne.Z)({style:a,className:K()((0,Ke.Z)({},"".concat(m,"-holder-inner"),m)),ref:P},c),p,C)))});ae.displayName="Filler";var H=ae,fe=h(22244);function De(v,P){var N="touches"in v?v.touches[0]:v;return N[P?"pageX":"pageY"]}var A=o.forwardRef(function(v,P){var N=v.prefixCls,b=v.rtl,i=v.scrollOffset,p=v.scrollRange,m=v.onStartMove,e=v.onStopMove,c=v.onScroll,M=v.horizontal,C=v.spinSize,t=v.containerSize,a=v.style,r=v.thumbStyle,d=o.useState(!1),u=(0,Ee.Z)(d,2),g=u[0],Z=u[1],D=o.useState(null),$=(0,Ee.Z)(D,2),E=$[0],k=$[1],Q=o.useState(null),R=(0,Ee.Z)(Q,2),U=R[0],j=R[1],_=!b,ce=o.useRef(),ie=o.useRef(),he=o.useState(!1),ye=(0,Ee.Z)(he,2),Ze=ye[0],ee=ye[1],Oe=o.useRef(),Pe=function(){clearTimeout(Oe.current),ee(!0),Oe.current=setTimeout(function(){ee(!1)},3e3)},xe=p-t||0,Be=t-C||0,oe=o.useMemo(function(){if(i===0||xe===0)return 0;var Re=i/xe;return Re*Be},[i,xe,Be]),$e=function(be){be.stopPropagation(),be.preventDefault()},_e=o.useRef({top:oe,dragging:g,pageY:E,startTop:U});_e.current={top:oe,dragging:g,pageY:E,startTop:U};var tt=function(be){Z(!0),k(De(be,M)),j(_e.current.top),m(),be.stopPropagation(),be.preventDefault()};o.useEffect(function(){var Re=function(Qe){Qe.preventDefault()},be=ce.current,Ve=ie.current;return be.addEventListener("touchstart",Re),Ve.addEventListener("touchstart",tt),function(){be.removeEventListener("touchstart",Re),Ve.removeEventListener("touchstart",tt)}},[]);var nt=o.useRef();nt.current=xe;var Ue=o.useRef();Ue.current=Be,o.useEffect(function(){if(g){var Re,be=function(Qe){var rt=_e.current,yt=rt.dragging,lt=rt.pageY,mt=rt.startTop;if(fe.Z.cancel(Re),yt){var qe=De(Qe,M)-lt,dt=mt;!_&&M?dt-=qe:dt+=qe;var ct=nt.current,ft=Ue.current,vt=ft?dt/ft:0,at=Math.ceil(vt*ct);at=Math.max(at,0),at=Math.min(at,ct),Re=(0,fe.Z)(function(){c(at,M)})}},Ve=function(){Z(!1),e()};return window.addEventListener("mousemove",be),window.addEventListener("touchmove",be),window.addEventListener("mouseup",Ve),window.addEventListener("touchend",Ve),function(){window.removeEventListener("mousemove",be),window.removeEventListener("touchmove",be),window.removeEventListener("mouseup",Ve),window.removeEventListener("touchend",Ve),fe.Z.cancel(Re)}}},[g]),o.useEffect(function(){Pe()},[i]),o.useImperativeHandle(P,function(){return{delayHidden:Pe}});var Ye="".concat(N,"-scrollbar"),Le={position:"absolute",visibility:Ze?null:"hidden"},Ae={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return M?(Le.height=8,Le.left=0,Le.right=0,Le.bottom=0,Ae.height="100%",Ae.width=C,_?Ae.left=oe:Ae.right=oe):(Le.width=8,Le.top=0,Le.bottom=0,_?Le.right=0:Le.left=0,Ae.width="100%",Ae.height=C,Ae.top=oe),o.createElement("div",{ref:ce,className:K()(Ye,(0,Ke.Z)((0,Ke.Z)((0,Ke.Z)({},"".concat(Ye,"-horizontal"),M),"".concat(Ye,"-vertical"),!M),"".concat(Ye,"-visible"),Ze)),style:(0,le.Z)((0,le.Z)({},Le),a),onMouseDown:$e,onMouseMove:Pe},o.createElement("div",{ref:ie,className:K()("".concat(Ye,"-thumb"),(0,Ke.Z)({},"".concat(Ye,"-thumb-moving"),g)),style:(0,le.Z)((0,le.Z)({},Ae),r),onMouseDown:tt}))}),ke=A;function de(v){var P=v.children,N=v.setRef,b=o.useCallback(function(i){N(i)},[]);return o.cloneElement(P,{ref:b})}function pe(v,P,N,b,i,p,m){var e=m.getKey;return v.slice(P,N+1).map(function(c,M){var C=P+M,t=p(c,C,{style:{width:b}}),a=e(c);return o.createElement(de,{key:a,setRef:function(d){return i(c,d)}},t)})}var ne=h(60835),s=h(68190),y=h(90396),O=function(){function v(){(0,s.Z)(this,v),(0,Ke.Z)(this,"maps",void 0),(0,Ke.Z)(this,"id",0),this.maps=Object.create(null)}return(0,y.Z)(v,[{key:"set",value:function(N,b){this.maps[N]=b,this.id+=1}},{key:"get",value:function(N){return this.maps[N]}}]),v}(),I=O;function L(v,P,N){var b=o.useState(0),i=(0,Ee.Z)(b,2),p=i[0],m=i[1],e=(0,o.useRef)(new Map),c=(0,o.useRef)(new I),M=(0,o.useRef)();function C(){fe.Z.cancel(M.current)}function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;C();var d=function(){e.current.forEach(function(g,Z){if(g&&g.offsetParent){var D=(0,ne.Z)(g),$=D.offsetHeight;c.current.get(Z)!==$&&c.current.set(Z,D.offsetHeight)}}),m(function(g){return g+1})};r?d():M.current=(0,fe.Z)(d)}function a(r,d){var u=v(r),g=e.current.get(u);d?(e.current.set(u,d),t()):e.current.delete(u),!g!=!d&&(d?P==null||P(r):N==null||N(r))}return(0,o.useEffect)(function(){return C},[]),[a,t,c.current,p]}var B=h(69705),x=h(98654),J=10;function n(v,P,N,b,i,p,m,e){var c=o.useRef(),M=o.useState(null),C=(0,Ee.Z)(M,2),t=C[0],a=C[1];return(0,B.Z)(function(){if(t&&t.times<J){if(!v.current){a(function(xe){return(0,le.Z)({},xe)});return}p();var r=t.targetAlign,d=t.originAlign,u=t.index,g=t.offset,Z=v.current.clientHeight,D=!1,$=r,E=null;if(Z){for(var k=r||d,Q=0,R=0,U=0,j=Math.min(P.length-1,u),_=0;_<=j;_+=1){var ce=i(P[_]);R=Q;var ie=N.get(ce);U=R+(ie===void 0?b:ie),Q=U}for(var he=k==="top"?g:Z-g,ye=j;ye>=0;ye-=1){var Ze=i(P[ye]),ee=N.get(Ze);if(ee===void 0){D=!0;break}if(he-=ee,he<=0)break}switch(k){case"top":E=R-g;break;case"bottom":E=U-Z+g;break;default:{var Oe=v.current.scrollTop,Pe=Oe+Z;R<Oe?$="top":U>Pe&&($="bottom")}}E!==null&&m(E),E!==t.lastTop&&(D=!0)}D&&a((0,le.Z)((0,le.Z)({},t),{},{times:t.times+1,targetAlign:$,lastTop:E}))}},[t,v.current]),function(r){if(r==null){e();return}if(fe.Z.cancel(c.current),typeof r=="number")m(r);else if(r&&(0,se.Z)(r)==="object"){var d,u=r.align;"index"in r?d=r.index:d=P.findIndex(function(D){return i(D)===r.key});var g=r.offset,Z=g===void 0?0:g;a({times:0,index:d,offset:Z,originAlign:u})}}}function te(v,P,N,b){var i=N-v,p=P-N,m=Math.min(i,p)*2;if(b<=m){var e=Math.floor(b/2);return b%2?N+e+1:N-e}return i>p?N-(b-p):N+(b-i)}function W(v,P,N){var b=v.length,i=P.length,p,m;if(b===0&&i===0)return null;b<i?(p=v,m=P):(p=P,m=v);var e={__EMPTY_ITEM__:!0};function c(d){return d!==void 0?N(d):e}for(var M=null,C=Math.abs(b-i)!==1,t=0;t<m.length;t+=1){var a=c(p[t]),r=c(m[t]);if(a!==r){M=t,C=C||a!==c(m[t+1]);break}}return M===null?null:{index:M,multiple:C}}function re(v,P,N){var b=o.useState(v),i=(0,Ee.Z)(b,2),p=i[0],m=i[1],e=o.useState(null),c=(0,Ee.Z)(e,2),M=c[0],C=c[1];return o.useEffect(function(){var t=W(p||[],v||[],P);(t==null?void 0:t.index)!==void 0&&(N==null||N(t.index),C(v[t.index])),m(v)},[v]),[M]}var l=(typeof navigator=="undefined"?"undefined":(0,se.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),f=l,T=function(v,P){var N=(0,o.useRef)(!1),b=(0,o.useRef)(null);function i(){clearTimeout(b.current),N.current=!0,b.current=setTimeout(function(){N.current=!1},50)}var p=(0,o.useRef)({top:v,bottom:P});return p.current.top=v,p.current.bottom=P,function(m){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=m<0&&p.current.top||m>0&&p.current.bottom;return e&&c?(clearTimeout(b.current),N.current=!1):(!c||N.current)&&i(),!N.current&&c}};function w(v,P,N,b,i){var p=(0,o.useRef)(0),m=(0,o.useRef)(null),e=(0,o.useRef)(null),c=(0,o.useRef)(!1),M=T(P,N);function C(g,Z){fe.Z.cancel(m.current),p.current+=Z,e.current=Z,!M(Z)&&(f||g.preventDefault(),m.current=(0,fe.Z)(function(){var D=c.current?10:1;i(p.current*D),p.current=0}))}function t(g,Z){i(Z,!0),f||g.preventDefault()}var a=(0,o.useRef)(null),r=(0,o.useRef)(null);function d(g){if(v){fe.Z.cancel(r.current),r.current=(0,fe.Z)(function(){a.current=null},2);var Z=g.deltaX,D=g.deltaY,$=g.shiftKey,E=Z,k=D;(a.current==="sx"||!a.current&&$&&D&&!Z)&&(E=D,k=0,a.current="sx");var Q=Math.abs(E),R=Math.abs(k);a.current===null&&(a.current=b&&Q>R?"x":"y"),a.current==="y"?C(g,k):t(g,E)}}function u(g){v&&(c.current=g.detail===e.current)}return[d,u]}var z=14/15;function ve(v,P,N){var b=(0,o.useRef)(!1),i=(0,o.useRef)(0),p=(0,o.useRef)(null),m=(0,o.useRef)(null),e,c=function(a){if(b.current){var r=Math.ceil(a.touches[0].pageY),d=i.current-r;i.current=r,N(d)&&a.preventDefault(),clearInterval(m.current),m.current=setInterval(function(){d*=z,(!N(d,!0)||Math.abs(d)<=.1)&&clearInterval(m.current)},16)}},M=function(){b.current=!1,e()},C=function(a){e(),a.touches.length===1&&!b.current&&(b.current=!0,i.current=Math.ceil(a.touches[0].pageY),p.current=a.target,p.current.addEventListener("touchmove",c),p.current.addEventListener("touchend",M))};e=function(){p.current&&(p.current.removeEventListener("touchmove",c),p.current.removeEventListener("touchend",M))},(0,B.Z)(function(){return v&&P.current.addEventListener("touchstart",C),function(){var t;(t=P.current)===null||t===void 0||t.removeEventListener("touchstart",C),e(),clearInterval(m.current)}},[v])}var Se=20;function V(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=v/P*v;return isNaN(N)&&(N=0),N=Math.max(N,Se),Math.floor(N)}function Ce(v,P,N,b){var i=o.useMemo(function(){return[new Map,[]]},[v,N.id,b]),p=(0,Ee.Z)(i,2),m=p[0],e=p[1],c=function(C){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,a=m.get(C),r=m.get(t);if(a===void 0||r===void 0)for(var d=v.length,u=e.length;u<d;u+=1){var g,Z=v[u],D=P(Z);m.set(D,u);var $=(g=N.get(D))!==null&&g!==void 0?g:b;if(e[u]=(e[u-1]||0)+$,D===C&&(a=u),D===t&&(r=u),a!==void 0&&r!==void 0)break}return{top:e[a-1]||0,bottom:e[r]}};return c}var ge=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],He=[],We={overflowY:"auto",overflowAnchor:"none"};function Ge(v,P){var N=v.prefixCls,b=N===void 0?"rc-virtual-list":N,i=v.className,p=v.height,m=v.itemHeight,e=v.fullHeight,c=e===void 0?!0:e,M=v.style,C=v.data,t=v.children,a=v.itemKey,r=v.virtual,d=v.direction,u=v.scrollWidth,g=v.component,Z=g===void 0?"div":g,D=v.onScroll,$=v.onVirtualScroll,E=v.onVisibleChange,k=v.innerProps,Q=v.extraRender,R=v.styles,U=(0,F.Z)(v,ge),j=o.useCallback(function(G){return typeof a=="function"?a(G):G==null?void 0:G[a]},[a]),_=L(j,null,null),ce=(0,Ee.Z)(_,4),ie=ce[0],he=ce[1],ye=ce[2],Ze=ce[3],ee=!!(r!==!1&&p&&m),Oe=o.useMemo(function(){return Object.values(ye.maps).reduce(function(G,Y){return G+Y},0)},[ye.id,ye.maps]),Pe=ee&&C&&(Math.max(m*C.length,Oe)>p||!!u),xe=d==="rtl",Be=K()(b,(0,Ke.Z)({},"".concat(b,"-rtl"),xe),i),oe=C||He,$e=(0,o.useRef)(),_e=(0,o.useRef)(),tt=(0,o.useState)(0),nt=(0,Ee.Z)(tt,2),Ue=nt[0],Ye=nt[1],Le=(0,o.useState)(0),Ae=(0,Ee.Z)(Le,2),Re=Ae[0],be=Ae[1],Ve=(0,o.useState)(!1),Je=(0,Ee.Z)(Ve,2),Qe=Je[0],rt=Je[1],yt=function(){rt(!0)},lt=function(){rt(!1)},mt={getKey:j};function qe(G){Ye(function(Y){var ue;typeof G=="function"?ue=G(Y):ue=G;var we=Wt(ue);return $e.current.scrollTop=we,we})}var dt=(0,o.useRef)({start:0,end:oe.length}),ct=(0,o.useRef)(),ft=re(oe,j),vt=(0,Ee.Z)(ft,1),at=vt[0];ct.current=at;var ht=o.useMemo(function(){if(!ee)return{scrollHeight:void 0,start:0,end:oe.length-1,offset:void 0};if(!Pe){var G;return{scrollHeight:((G=_e.current)===null||G===void 0?void 0:G.offsetHeight)||0,start:0,end:oe.length-1,offset:void 0}}for(var Y=0,ue,we,ut,Jt=oe.length,St=0;St<Jt;St+=1){var Qt=oe[St],_t=j(Qt),Ht=ye.get(_t),Mt=Y+(Ht===void 0?m:Ht);Mt>=Ue&&ue===void 0&&(ue=St,we=Y),Mt>Ue+p&&ut===void 0&&(ut=St),Y=Mt}return ue===void 0&&(ue=0,we=0,ut=Math.ceil(p/m)),ut===void 0&&(ut=oe.length-1),ut=Math.min(ut+1,oe.length-1),{scrollHeight:Y,start:ue,end:ut,offset:we}},[Pe,ee,Ue,oe,Ze,p]),me=ht.scrollHeight,ze=ht.start,Xe=ht.end,ot=ht.offset;dt.current.start=ze,dt.current.end=Xe;var it=o.useState({width:0,height:p}),et=(0,Ee.Z)(it,2),je=et[0],pt=et[1],gt=function(Y){pt({width:Y.width||Y.offsetWidth,height:Y.height||Y.offsetHeight})},Kt=(0,o.useRef)(),Pt=(0,o.useRef)(),Ft=o.useMemo(function(){return V(je.width,u)},[je.width,u]),Ut=o.useMemo(function(){return V(je.height,me)},[je.height,me]),Zt=me-p,xt=(0,o.useRef)(Zt);xt.current=Zt;function Wt(G){var Y=G;return Number.isNaN(xt.current)||(Y=Math.min(Y,xt.current)),Y=Math.max(Y,0),Y}var Rt=Ue<=0,Tt=Ue>=Zt,Bt=T(Rt,Tt),Ct=function(){return{x:xe?-Re:Re,y:Ue}},Nt=(0,o.useRef)(Ct()),Dt=(0,x.zX)(function(){if($){var G=Ct();(Nt.current.x!==G.x||Nt.current.y!==G.y)&&($(G),Nt.current=G)}});function Ot(G,Y){var ue=G;Y?((0,Me.flushSync)(function(){be(ue)}),Dt()):qe(ue)}function zt(G){var Y=G.currentTarget.scrollTop;Y!==Ue&&qe(Y),D==null||D(G),Dt()}var kt=function(Y){var ue=Y,we=u?u-je.width:0;return ue=Math.max(ue,0),ue=Math.min(ue,we),ue},jt=(0,x.zX)(function(G,Y){Y?((0,Me.flushSync)(function(){be(function(ue){var we=ue+(xe?-G:G);return kt(we)})}),Dt()):qe(function(ue){var we=ue+G;return we})}),Gt=w(ee,Rt,Tt,!!u,jt),Lt=(0,Ee.Z)(Gt,2),bt=Lt[0],It=Lt[1];ve(ee,$e,function(G,Y){return Bt(G,Y)?!1:(bt({preventDefault:function(){},deltaY:G}),!0)}),(0,B.Z)(function(){function G(ue){ee&&ue.preventDefault()}var Y=$e.current;return Y.addEventListener("wheel",bt),Y.addEventListener("DOMMouseScroll",It),Y.addEventListener("MozMousePixelScroll",G),function(){Y.removeEventListener("wheel",bt),Y.removeEventListener("DOMMouseScroll",It),Y.removeEventListener("MozMousePixelScroll",G)}},[ee]),(0,B.Z)(function(){u&&be(function(G){return kt(G)})},[je.width,u]);var wt=function(){var Y,ue;(Y=Kt.current)===null||Y===void 0||Y.delayHidden(),(ue=Pt.current)===null||ue===void 0||ue.delayHidden()},$t=n($e,oe,ye,m,j,function(){return he(!0)},qe,wt);o.useImperativeHandle(P,function(){return{getScrollInfo:Ct,scrollTo:function(Y){function ue(we){return we&&(0,se.Z)(we)==="object"&&("left"in we||"top"in we)}ue(Y)?(Y.left!==void 0&&be(kt(Y.left)),$t(Y.top)):$t(Y)}}}),(0,B.Z)(function(){if(E){var G=oe.slice(ze,Xe+1);E(G,oe)}},[ze,Xe,oe]);var Yt=Ce(oe,j,ye,m),Vt=Q==null?void 0:Q({start:ze,end:Xe,virtual:Pe,offsetX:Re,offsetY:ot,rtl:xe,getSize:Yt}),Xt=pe(oe,ze,Xe,u,ie,t,mt),Et=null;p&&(Et=(0,le.Z)((0,Ke.Z)({},c?"height":"maxHeight",p),We),ee&&(Et.overflowY="hidden",u&&(Et.overflowX="hidden"),Qe&&(Et.pointerEvents="none")));var At={};return xe&&(At.dir="rtl"),o.createElement("div",(0,Ne.Z)({style:(0,le.Z)((0,le.Z)({},M),{},{position:"relative"}),className:Be},At,U),o.createElement(X.Z,{onResize:gt},o.createElement(Z,{className:"".concat(b,"-holder"),style:Et,ref:$e,onScroll:zt,onMouseEnter:wt},o.createElement(H,{prefixCls:b,height:me,offsetX:Re,offsetY:ot,scrollWidth:u,onInnerResize:he,ref:_e,innerProps:k,rtl:xe,extra:Vt},Xt))),Pe&&me>p&&o.createElement(ke,{ref:Kt,prefixCls:b,scrollOffset:Ue,scrollRange:me,rtl:xe,onScroll:Ot,onStartMove:yt,onStopMove:lt,spinSize:Ut,containerSize:je.height,style:R==null?void 0:R.verticalScrollBar,thumbStyle:R==null?void 0:R.verticalScrollBarThumb}),Pe&&u>je.width&&o.createElement(ke,{ref:Pt,prefixCls:b,scrollOffset:Re,scrollRange:u,rtl:xe,onScroll:Ot,onStartMove:yt,onStopMove:lt,spinSize:Ft,containerSize:je.width,horizontal:!0,style:R==null?void 0:R.horizontalScrollBar,thumbStyle:R==null?void 0:R.horizontalScrollBarThumb}))}var q=o.forwardRef(Ge);q.displayName="List";var Te=q,Fe=Te}}]);
